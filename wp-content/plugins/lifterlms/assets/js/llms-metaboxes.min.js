!function(p){p.fn.llmsCollapsible=function(){return this.on("click",".llms-collapsible-header",function(){var e=p(this).closest(".llms-collapsible"),t=e.siblings(".llms-collapsible");e.toggleClass("opened"),e.find(".llms-collapsible-body").slideToggle(400),t.each(function(){p(this).removeClass("opened"),p(this).find(".llms-collapsible-body").slideUp(400)})}),this},window.llms=window.llms||{};window.llms.metaboxes=new function(){this.repeaters={metaboxes:this,$repeaters:null,init:function(){var e=this;e.$repeaters=p(".llms-mb-list.repeater"),e.$repeaters.length&&(LLMS.wait_for(function(){return"undefined"!=typeof tinyMCE},function(){e.load(),e.bind()}),p('#post input[type="submit"]').on("click",function(){p(this).attr("data-llms-clicked","yes")}),p("#post").on("submit",e.handle_submit))},bind:function(){var l=this;l.$repeaters.each(function(){var a=p(this),n=a.find(".llms-repeater-rows"),e=a.find(".llms-repeater-model");tinyMCE.EditorManager.execCommand("mceRemoveEditor",!0,e.find(".llms-mb-list.editor textarea").attr("id")),a.find(".llms-repeater-new-btn").on("click",function(){l.add_row(a,null,!0)}),n.sortable({handle:".llms-drag-handle",items:".llms-repeater-row",start:function(e,t){n.addClass("dragging")},stop:function(e,t){n.removeClass("dragging"),t.item.find("textarea.wp-editor-area").each(function(){var e=p(this).attr("id");tinyMCE.EditorManager.execCommand("mceRemoveEditor",!0,e),tinyMCE.EditorManager.execCommand("mceAddEditor",!0,e)}),l.save(a)}}),a.on("click",".llms-repeater-remove",function(e){e.stopPropagation();var t=p(this).closest(".llms-repeater-row");window.confirm(LLMS.l10n.translate("Are you sure you want to delete this row? This cannot be undone."))&&(t.remove(),setTimeout(function(){l.save(a)},1))})})},add_row:function(e,t,a){var n=this,l=e.find(".llms-repeater-rows"),i=e.find(".llms-repeater-model").find(".llms-repeater-row").clone(),s=e.find(".llms-repeater-row").length,r=n.reindex(i,s);t&&p.each(t,function(e,t){var a=i.find('[name^="'+e+'"]');a.hasClass("llms-select2-student")?(p.each(t,function(e,t){a.append('<option value="'+t.key+'" selected="selected">'+t.title+"</option>")}),a.trigger("change")):a.val(t)}),setTimeout(function(){n.bind_row(i)},1),l.append(i),a&&i.find(".llms-collapsible-header").trigger("click"),tinyMCE.EditorManager.execCommand("mceAddEditor",!0,r),e.trigger("llms-new-repeater-row",{$row:i,data:t})},bind_row:function(e){this.bind_row_header(e),e.find(".llms-select2").llmsSelect2({width:"100%"}),e.find(".llms-select2-student").llmsStudentsSelect2(),this.metaboxes.bind_datepickers(e.find(".llms-datepicker")),this.metaboxes.bind_controllers(e.find("[data-is-controller]"))},bind_row_header:function(e){var t=e.find(".llms-repeater-title"),a=e.find(".llms-collapsible-header-title-field");t.attr("data-default",t.text()),a.on("keyup focusout blur",function(){var e=p(this).val();e||(e=t.attr("data-default")),t.text(e)}).trigger("keyup")},handle_submit:function(e){e.preventDefault();var t=p('#post [data-llms-clicked="yes"]'),a=t.parent().find(".spinner");p('#post input[type="submit"]').addClass("disabled"),a.addClass("is-active");var n,l=window.llms.metaboxes.repeaters,i=0;l.$repeaters.each(function(){l.save(p(this))}),n=setInterval(function(){59<=i||!p(".llms-mb-list.repeater.processing").length?(clearInterval(n),p("#post").off("submit",this.handle_submit),a.removeClass("is-active"),t.removeClass("disabled").trigger("click")):i++},1e3)},load:function(){var n=this;n.$repeaters.each(function(){var a=p(this);a.hasClass("is-loaded")||a.hasClass("processing")||n.store(a,"load",function(e){a.addClass("is-loaded"),p.each(e.data,function(e,t){n.add_row(a,t,!1)}),a.find(".llms-repeater-rows .llms-repeater-row").each(function(){n.bind_row(p(this))})})})},reindex:function(e,a){var n=e.attr("data-row-order"),t=e.find(".llms-mb-list.editor textarea");function l(e,t){e.each(function(){var e=p(this).attr(t);p(this).attr(t,e.replace(n,a))})}return tinyMCE.EditorManager.execCommand("mceRemoveEditor",!0,t.attr("id")),e.attr("data-row-order",a),l(e,"data-row-order"),l(e.find("button.insert-media"),"data-editor"),l(e.find('input[name^="_llms"], textarea[name^="_llms"], select[name^="_llms"]'),"id"),l(e.find('input[name^="_llms"], textarea[name^="_llms"], select[name^="_llms"]'),"name"),l(e.find("[data-controller]"),"data-controller"),l(e.find("[data-controller]"),"data-controller"),l(e.find("button.wp-switch-editor"),"data-wp-editor-id"),l(e.find("button.wp-switch-editor"),"id"),l(e.find(".wp-editor-tools"),"id"),l(e.find(".wp-editor-container"),"id"),t.attr("id")},save:function(e){e.trigger("llms-repeater-before-save",{$el:e}),this.store(e,"save")},serialize:function(e){var a=[];return e.find(".llms-repeater-rows .llms-repeater-row").each(function(){var t={};p(this).find('input[name^="_llms"], select[name^="_llms"]').each(function(){t[p(this).attr("name")]=p(this).val()}),p(this).find('textarea[name^="_llms"]').each(function(){var e=p(this).attr("name");tinyMCE.editors[e]?t[e]=tinyMCE.editors[e].getContent():t[e]=p(this).val()}),a.push(t)}),a},store:function(t,e,a){a=a||function(){};var n={action:t.find(".llms-repeater-field-handler").val(),store_action:e};"save"===e&&(n.rows=this.serialize(t)),LLMS.Ajax.call({data:n,beforeSend:function(){t.addClass("processing"),LLMS.Spinner.start(t)},success:function(e){a(e),LLMS.Spinner.stop(t),t.removeClass("processing")}})}},this.repeaters.init(),this.init=function(){var n=this;p(".llms-select2-post").each(function(){n.post_select(p(this))}),p(".llms-collapsible-group").llmsCollapsible(),this.bind_tabs();var e=[{selector:p(".llms-datepicker"),func:"bind_datepickers"},{selector:p(".llms-select2"),func:function(e){e.llmsSelect2({width:"100%"})}},{selector:p(".llms-select2-student"),func:function(e){e.llmsStudentsSelect2()}},{selector:p('input[type="checkbox"][data-controls]'),func:"bind_cb_controllers"},{selector:p("[data-is-controller]"),func:"bind_controllers"},{selector:p(".llms-table"),func:"bind_tables"},{selector:p(".llms-merge-code-wrapper"),func:"bind_merge_code_buttons"},{selector:p("a.llms-editable"),func:"bind_editables"}];if(p.each(e,function(e,t){if(t.selector.length){var a=t.selector.filter(function(){return 0===p(this).closest(".llms-repeater-model").length});"string"==typeof t.func?n[t.func](a):"function"==typeof t.func&&t.func(a)}}),window.llms.post.post_type){var t="bind_"+window.llms.post.post_type;"function"==typeof this[t]&&this[t]()}},this.bind_cb_controllers=function(e){(e=e||p('input[type="checkbox"][data-controls]')).each(function(){var e=p(this),t=p(e.attr("data-controls")).closest(".llms-mb-list");e.on("change",function(){p(this).is(":checked")?t.slideDown(200):t.slideUp(200)}),e.trigger("change")})},this.bind_controllers=function(e){(e=e||p("[data-is-controller]")).each(function(){var a,e=p(this),t=p('[data-controller="#'+e.attr("id")+'"]');e.on("change",function(){a="checkbox"===e.attr("type")?e.is(":checked")?e.val():"false":e.val(),t.each(function(){var e=p(this).attr("data-controller-value"),t=[];-1!==e.indexOf(",")?t=e.split(","):t.push(e),-1!==t.indexOf(a)?p(this).slideDown(200):p(this).slideUp(200)})}),e.trigger("change")})},this.bind_datepicker=function(e){var t=e.attr("data-format")||"mm/dd/yy",a=e.attr("data-max-date")||null,n=e.attr("data-min-date")||null;e.datepicker({dateFormat:t,maxDate:a,minDate:n})},this.bind_datepickers=function(e){var t=this;(e=e||p(".llms-datepicker")).each(function(){t.bind_datepicker(p(this))})},this.bind_editables=function(){var f=this;p("a.llms-editable").on("click",function(e){e.preventDefault();var t,a=p(this);t=a.attr("data-fields")?p(a.attr("data-fields")):a.closest(".llms-metabox-section").find("[data-llms-editable]"),a.remove(),t.each(function(){!function(e){var t,a=e.find("label").clone(),n=e.attr("data-llms-editable"),l=e.attr("data-llms-editable-type"),i=e.attr("data-llms-editable-required")||"no",s=e.attr("data-llms-editable-value");if(i="yes"===i?' required="required"':"","select"===l){var r,o=JSON.parse(e.attr("data-llms-editable-options"));for(var d in t=p('<select name="'+n+'"'+i+" />"),o)r=s===d?' selected="selected"':"",t.append('<option value="'+d+'"'+r+">"+o[d]+"</option>")}else if("datetime"===l){t=p('<div class="llms-datetime-field" />'),s=JSON.parse(s);var c=e.attr("data-llms-editable-date-format")||"",m=e.attr("data-llms-editable-date-min")||"",u=e.attr("data-llms-editable-date-max")||"";$picker=p('<input class="llms-date-input llms-datepicker" data-format="'+c+'" data-max-date="'+u+'" data-min-date="'+m+'" name="'+n+'[date]" type="text" value="'+s.date+'">'),f.bind_datepicker($picker),t.append($picker),t.append("<em>@</em>"),t.append('<input class="llms-time-input" max="23" min="0" name="'+n+'[hour]" type="number" value="'+s.hour+'">'),t.append("<em>:</em>"),t.append('<input class="llms-time-input" max="59" min="0" name="'+n+'[minute]" type="number" value="'+s.minute+'">')}else t=p('<input name="'+n+'" type="'+l+'" value="'+s+'"'+i+">");e.empty().append(a).append(t)}(p(this))})})},this.bind_llms_engagement=function(){var l=this;p("#_llms_engagement_type").on("change",function(){p("#_llms_engagement").trigger("llms-engagement-type-change",p(this).val())}),p("#_llms_engagement").on("llms-engagement-type-change",function(e,t){var a=p(this);switch(t){case"achievement":case"certificate":case"email":var n="llms_"+t;a.val(null).attr("data-post-type",n).trigger("change"),l.post_select(a);break;default:a.trigger("llms-engagement-type-change-external",t)}})},this.bind_llms_membership=function(){p('a[href="#llms-course-remove"]').on("click",function(e){e.preventDefault();var t=p(this),a=t.closest("tr"),n=t.closest(".llms-mb-list");LLMS.Spinner.start(n),window.LLMS.Ajax.call({data:{action:"membership_remove_auto_enroll_course",course_id:t.attr("data-id")},beforeSend:function(){n.find("p.error").remove()},success:function(e){e.success?(a.fadeOut(200),setTimeout(function(){a.remove()},400)):n.prepend('<p class="error">'+e.message+"</p>"),LLMS.Spinner.stop(n)}})}),p('a[href="#llms-course-bulk-enroll"]').on("click",function(e){e.preventDefault();var t=p(this),a=(t.closest("tr"),t.closest(".llms-mb-list"));window.confirm(LLMS.l10n.translate("Click okay to enroll all active members into the selected course. Enrollment will take place in the background and you may leave your site after confirmation. This action cannot be undone!"))&&(LLMS.Spinner.start(a),window.LLMS.Ajax.call({data:{action:"bulk_enroll_membership_into_course",course_id:t.attr("data-id")},beforeSend:function(){a.find("p.error").remove()},success:function(e){e.success?t.replaceWith('<strong style="float:right;">'+e.data.message+"&nbsp;&nbsp;</strong>"):a.prepend('<p class="error">'+e.message+"</p>"),LLMS.Spinner.stop(a)}}))})},this.bind_llms_order=function(){p('button[name="llms-refund-toggle"]').on("click",function(){var e=p(this),t=e.closest("tr"),a=t.attr("data-transaction-id"),n=e.attr("data-refundable"),l="1"===e.attr("data-gateway-supports"),i=e.attr("data-gateway"),s=p("#llms-txn-refund-model .llms-txn-refund-form").clone(),r=s.find(".gateway-btn");"remove"!==e.attr("data-action")?(e.text(LLMS.l10n.translate("Cancel")),e.attr("data-action","remove"),s.find("input").removeAttr("disabled"),s.find('input[name="llms_refund_amount"]').attr("max",n),s.find('input[name="llms_refund_txn_id"]').val(a),l&&(r.find(".llms-gateway-title").text(i),r.show()),t.after(s)):(e.text(LLMS.l10n.translate("Refund")),e.attr("data-action",""),t.next("tr").remove())}),p('button[name="llms-manual-txn-toggle"]').on("click",function(){var e=p(this),t=e.closest("tr"),a=p("#llms-manual-txn-model .llms-manual-txn-form").clone();"remove"!==e.attr("data-action")?(e.text(LLMS.l10n.translate("Cancel")),e.attr("data-action","remove"),a.find("input").removeAttr("disabled"),t.after(a)):(e.text(LLMS.l10n.translate("Record a Manual Payment")),e.attr("data-action",""),t.next("tr").remove())}),p(".llms-metabox").one("focus",'.llms-metabox-field[data-llms-editable="payment_gateway"] select',function(){p(this).attr("data-original-value")||p(this).attr("data-original-value",p(this).val())}),p(".llms-metabox").on("change",'.llms-metabox-field[data-llms-editable="payment_gateway"] select',function(){var e=p(this),t=e.val(),a=JSON.parse(e.closest(".llms-metabox-field").attr("data-gateway-fields"))[t];for(var n in a){var l=p('input[name="'+a[n].name+'"]'),i=l.closest(".llms-metabox-field");l.attr("value",""),a[n].enabled?(i.show(),l.attr("required","required"),t===e.attr("data-original-value")&&l.val(i.attr("data-llms-editable-value"))):(l.removeAttr("required"),i.hide())}})},this.bind_merge_code_buttons=function(e){(e=e||p(".llms-merge-code-wrapper")).find(".llms-merge-code-button").on("click",function(){p(this).next(".llms-merge-codes").toggleClass("active")}),e.find(".llms-merge-codes li").on("click",function(){var e=p(this),t=e.closest(".llms-merge-codes"),a=t.attr("data-target"),n=e.attr("data-code");if(-1===a.indexOf("#")){var l=window.tinymce.editors[a];l?l.insertContent(n):alert(LLMS.l10n.translate("Copy this code and paste it into the desired area")+": "+n)}else p(a).val(p(a).val()+n);t.removeClass("active")})},this.bind_tabs=function(){p(".llms-nav-tab-wrapper .tabs li").on("click",function(){var e=p(this),t=e.closest(".llms-mb-container"),a=e.attr("data-tab");e.siblings().removeClass("llms-active"),t.find(".tab-content").removeClass("llms-active"),e.addClass("llms-active"),p("#"+a).addClass("llms-active")})},this.post_select=function(e){var t="multiple"===e.attr("multiple");if(e.llmsPostsSelect2({width:t?"100%":"65%"}),!t){var a=LLMS.l10n.translate("View"),n=p('<a class="llms-button-secondary small" style="margin-left:5px;" target="_blank" href="#">'+a+' <i class="fa fa-external-link" aria-hidden="true"></i></a>');e.next(".select2").after(n),e.on("change",function(){var e=p(this).val();e?n.attr("href","/?p="+e).show():n.hide()}).trigger("change")}},this.bind_tables=function(){p('.llms-table button[name="llms-expand-table"]').on("click",function(){var e=p(this),t=e.closest(".llms-table");if(e.attr("data-text")){var a=e.text();e.text(e.attr("data-text")),e.attr("data-text",a)}t.find(".expandable").each(function(){p(this).hasClass("closed")?p(this).addClass("opened").removeClass("closed"):p(this).addClass("closed").removeClass("opened")})})},this.init()}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxsbXMtbWV0YWJveGVzLmpzIl0sIm5hbWVzIjpbIiQiLCJmbiIsImxsbXNDb2xsYXBzaWJsZSIsInRoaXMiLCJvbiIsIiRwYXJlbnQiLCJjbG9zZXN0IiwiJHNpYmxpbmdzIiwic2libGluZ3MiLCJ0b2dnbGVDbGFzcyIsImZpbmQiLCJzbGlkZVRvZ2dsZSIsImVhY2giLCJyZW1vdmVDbGFzcyIsInNsaWRlVXAiLCJ3aW5kb3ciLCJsbG1zIiwibWV0YWJveGVzIiwicmVwZWF0ZXJzIiwiJHJlcGVhdGVycyIsImluaXQiLCJzZWxmIiwibGVuZ3RoIiwiTExNUyIsIndhaXRfZm9yIiwidGlueU1DRSIsImxvYWQiLCJiaW5kIiwiYXR0ciIsImhhbmRsZV9zdWJtaXQiLCIkcmVwZWF0ZXIiLCIkcm93cyIsIiRtb2RlbCIsIkVkaXRvck1hbmFnZXIiLCJleGVjQ29tbWFuZCIsImFkZF9yb3ciLCJzb3J0YWJsZSIsImhhbmRsZSIsIml0ZW1zIiwic3RhcnQiLCJldmVudCIsInVpIiwiYWRkQ2xhc3MiLCJzdG9wIiwiaXRlbSIsImVkX2lkIiwic2F2ZSIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCIkcm93IiwiY29uZmlybSIsImwxMG4iLCJ0cmFuc2xhdGUiLCJyZW1vdmUiLCJzZXRUaW1lb3V0IiwiZGF0YSIsImV4cGFuZCIsImNsb25lIiwibmV3X2luZGV4IiwiZWRpdG9yIiwicmVpbmRleCIsImtleSIsInZhbCIsIiRmaWVsZCIsImhhc0NsYXNzIiwiaSIsImFwcGVuZCIsInRpdGxlIiwidHJpZ2dlciIsImJpbmRfcm93IiwiYmluZF9yb3dfaGVhZGVyIiwibGxtc1NlbGVjdDIiLCJ3aWR0aCIsImxsbXNTdHVkZW50c1NlbGVjdDIiLCJiaW5kX2RhdGVwaWNrZXJzIiwiYmluZF9jb250cm9sbGVycyIsIiR0aXRsZSIsInRleHQiLCJwcmV2ZW50RGVmYXVsdCIsIiRidG4iLCIkc3Bpbm5lciIsInBhcmVudCIsIndhaXQiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJvZmYiLCJzdG9yZSIsIm9iaiIsImluZGV4Iiwib2xkX2luZGV4IiwiJGVkIiwicmVwbGFjZV9hdHRyIiwiJGVsIiwic3RyIiwicmVwbGFjZSIsInNlcmlhbGl6ZSIsInJvd3MiLCJuYW1lIiwiZWRpdG9ycyIsImdldENvbnRlbnQiLCJwdXNoIiwiYWN0aW9uIiwiY2IiLCJzdG9yZV9hY3Rpb24iLCJBamF4IiwiY2FsbCIsImJlZm9yZVNlbmQiLCJTcGlubmVyIiwic3VjY2VzcyIsInIiLCJwb3N0X3NlbGVjdCIsImJpbmRfdGFicyIsImJpbmRpbmdzIiwic2VsZWN0b3IiLCJmdW5jIiwiJHNlbGVjdG9yIiwicmVkdWNlZCIsImZpbHRlciIsInBvc3QiLCJwb3N0X3R5cGUiLCJiaW5kX2NiX2NvbnRyb2xsZXJzIiwiJGNvbnRyb2xsZXJzIiwiJGNiIiwiJGNvbnRyb2xsZWQiLCJpcyIsInNsaWRlRG93biIsInBvc3NpYmxlIiwidmFscyIsImluZGV4T2YiLCJzcGxpdCIsImJpbmRfZGF0ZXBpY2tlciIsImZvcm1hdCIsIm1heERhdGUiLCJtaW5EYXRlIiwiZGF0ZXBpY2tlciIsImRhdGVGb3JtYXQiLCIkZGF0ZXBpY2tlcnMiLCJiaW5kX2VkaXRhYmxlcyIsIiRmaWVsZHMiLCIkaW5wdXQiLCIkbGFiZWwiLCJ0eXBlIiwicmVxdWlyZWQiLCJzZWxlY3RlZCIsIm9wdGlvbnMiLCJKU09OIiwicGFyc2UiLCJtaW5fZGF0ZSIsIm1heF9kYXRlIiwiJHBpY2tlciIsImRhdGUiLCJob3VyIiwibWludXRlIiwiZW1wdHkiLCJtYWtlX2VkaXRhYmxlIiwiYmluZF9sbG1zX2VuZ2FnZW1lbnQiLCJlbmdhZ2VtZW50X3R5cGUiLCIkc2VsZWN0IiwiY3B0IiwiYmluZF9sbG1zX21lbWJlcnNoaXAiLCIkY29udGFpbmVyIiwiY291cnNlX2lkIiwiZmFkZU91dCIsInByZXBlbmQiLCJtZXNzYWdlIiwicmVwbGFjZVdpdGgiLCJiaW5kX2xsbXNfb3JkZXIiLCJ0eG5faWQiLCJyZWZ1bmRhYmxlX2Ftb3VudCIsImdhdGV3YXlfc3VwcG9ydHMiLCJnYXRld2F5X3RpdGxlIiwiJG5ld19yb3ciLCIkZ2F0ZXdheV9idG4iLCJyZW1vdmVBdHRyIiwic2hvdyIsImFmdGVyIiwibmV4dCIsIm9uZSIsImdhdGV3YXkiLCJnYXRld2F5X2RhdGEiLCJmaWVsZCIsIiR3cmFwIiwiZW5hYmxlZCIsImhpZGUiLCJiaW5kX21lcmdlX2NvZGVfYnV0dG9ucyIsIiR3cmFwcGVycyIsInRhcmdldCIsImNvZGUiLCJ0aW55bWNlIiwiaW5zZXJ0Q29udGVudCIsImFsZXJ0IiwiJG1ldGFib3giLCJ0YWJfaWQiLCJtdWx0aSIsImxsbXNQb3N0c1NlbGVjdDIiLCJtc2ciLCJpZCIsImJpbmRfdGFibGVzIiwiJHRhYmxlIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQ0FjQSxTQUFZQSxHQUVYQSxFQUFFQyxHQUFHQyxnQkFBa0IsV0FvQnRCLE9BaEJBQyxLQUFLQyxHQUFJLFFBQVMsMkJBQTRCLFdBRTdDLElBQUlDLEVBQVVMLEVBQUdHLE1BQU9HLFFBQVMscUJBQ2hDQyxFQUFZRixFQUFRRyxTQUFVLHFCQUUvQkgsRUFBUUksWUFBYSxVQUVyQkosRUFBUUssS0FBTSwwQkFBMkJDLFlBQWEsS0FFdERKLEVBQVVLLEtBQU0sV0FDZlosRUFBR0csTUFBT1UsWUFBYSxVQUN2QmIsRUFBR0csTUFBT08sS0FBTSwwQkFBMkJJLFFBQVMsU0FLL0NYLE1BSVJZLE9BQU9DLEtBQU9ELE9BQU9DLE1BQVEsR0FvcUM3QkQsT0FBT0MsS0FBS0MsVUFBWSxJQWxxQ1IsV0FVZmQsS0FBS2UsVUFBWSxDQU1oQkQsVUFBV2QsS0FNWGdCLFdBQVksS0FRWkMsS0FBTSxXQUVMLElBQUlDLEVBQU9sQixLQUVYa0IsRUFBS0YsV0FBYW5CLEVBQUcsMEJBRWhCcUIsRUFBS0YsV0FBV0csU0FHcEJDLEtBQUtDLFNBQVUsV0FDZCxNQUFTLG9CQUF1QkMsU0FDOUIsV0FDRkosRUFBS0ssT0FDTEwsRUFBS00sU0FLTjNCLEVBQUcsOEJBQStCSSxHQUFJLFFBQVMsV0FD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U0FBVWxCLEdBRTVCLElBQUlxRyxFQUFRLGFBQWVyRyxFQUFJaEUsS0FBTSxZQU1yQyxHQUpBZ0UsRUFBSXNHLGlCQUFrQixDQUNyQjFILE1BQU95SCxFQUFRLE9BQVMsU0FHcEJBLEVBQUwsQ0FLQSxJQUFJRSxFQUFNNUssS0FBSzRCLEtBQUtDLFVBQVcsUUFDOUIyQixFQUFPL0UsRUFBRyw0RkFBK0ZtTSxFQUFNLCtEQUNoSHZHLEVBQUlvRixLQUFNLFlBQWFELE1BQU9oRyxHQUU5QmEsRUFBSXhGLEdBQUksU0FBVSxXQUNqQixJQUFJZ00sRUFBS3BNLEVBQUdHLE1BQU8yRCxNQUNkc0ksRUFDSnJILEVBQUtuRCxLQUFNLE9BQVEsT0FBU3dLLEdBQUt0QixPQUVqQy9GLEVBQUt3RyxTQUVIbkgsUUFBUyxZQVVkakUsS0FBS2tNLFlBQWMsV0FFbEJyTSxFQUFHLGdEQUFpREksR0FBSSxRQUFTLFdBRWhFLElBQUkyRSxFQUFPL0UsRUFBR0csTUFDYm1NLEVBQVN2SCxFQUFLekUsUUFBUyxlQUd4QixHQUFLeUUsRUFBS25ELEtBQU0sYUFBZ0IsQ0FDL0IsSUFBSWlELEVBQU9FLEVBQUtGLE9BQ2hCRSxFQUFLRixLQUFNRSxFQUFLbkQsS0FBTSxjQUN0Qm1ELEVBQUtuRCxLQUFNLFlBQWFpRCxHQUl6QnlILEVBQU81TCxLQUFNLGVBQWdCRSxLQUFNLFdBRTdCWixFQUFHRyxNQUFPNkQsU0FBVSxVQUN4QmhFLEVBQUdHLE1BQU91QyxTQUFVLFVBQVc3QixZQUFhLFVBRTVDYixFQUFHRyxNQUFPdUMsU0FBVSxVQUFXN0IsWUFBYSxlQVVoRFYsS0FBS2lCLFFBenJDUCxDQWdzQ0ttTCIsImZpbGUiOiJsbG1zLW1ldGFib3hlcy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICpcbiAqIENvbnRyaWJ1dG9yJ3MgTm90aWNlXG4gKiBcbiAqIFRoaXMgaXMgYSBjb21waWxlZCBmaWxlIGFuZCBzaG91bGQgbm90IGJlIGVkaXRlZCBkaXJlY3RseSFcbiAqIFRoZSB1bmNvbXBpbGVkIHNjcmlwdCBpcyBsb2NhdGVkIGluIHRoZSBcImFzc2V0cy9wcml2YXRlXCIgZGlyZWN0b3J5XG4gKiBcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKipcbiAqIExpZnRlckxNUyBBZG1pbiBQYW5lbCBNZXRhYm94IEZ1bmN0aW9uc1xuICogQHNpbmNlICAgIDMuMC4wXG4gKiBAdmVyc2lvbiAgMy4xOS41XG4gKi9cbiggZnVuY3Rpb24oICQgKSB7XG5cblx0JC5mbi5sbG1zQ29sbGFwc2libGUgPSBmdW5jdGlvbigpIHtcblxuXHRcdHZhciAkZ3JvdXAgPSB0aGlzO1xuXG5cdFx0dGhpcy5vbiggJ2NsaWNrJywgJy5sbG1zLWNvbGxhcHNpYmxlLWhlYWRlcicsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgJHBhcmVudCA9ICQoIHRoaXMgKS5jbG9zZXN0KCAnLmxsbXMtY29sbGFwc2libGUnICksXG5cdFx0XHRcdCRzaWJsaW5ncyA9ICRwYXJlbnQuc2libGluZ3MoICcubGxtcy1jb2xsYXBzaWJsZScgKTtcblxuXHRcdFx0JHBhcmVudC50b2dnbGVDbGFzcyggJ29wZW5lZCcgKTtcblxuXHRcdFx0JHBhcmVudC5maW5kKCAnLmxsbXMtY29sbGFwc2libGUtYm9keScgKS5zbGlkZVRvZ2dsZSggNDAwICk7XG5cblx0XHRcdCRzaWJsaW5ncy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0JCggdGhpcyApLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xuXHRcdFx0XHQkKCB0aGlzICkuZmluZCggJy5sbG1zLWNvbGxhcHNpYmxlLWJvZHknICkuc2xpZGVVcCggNDAwICk7XG5cdFx0XHR9ICk7XG5cblx0XHR9ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9O1xuXG5cdHdpbmRvdy5sbG1zID0gd2luZG93LmxsbXMgfHwge307XG5cblx0dmFyIE1ldGFib3hlcyA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0LyoqXG5cdFx0ICogbG9hZCBhbGwgcGFydGlhbHNcblx0XHQgKi9cblx0XHQvKipcblx0XHQgKiBMaWZ0ZXJMTVMgQWRtaW4gTWV0YWJveCBSZXBlYXRlciBGaWVsZFxuXHRcdCAqIEBzaW5jZSAgICAzLjExLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xNy4zXG5cdFx0ICovXG5cdFx0dGhpcy5yZXBlYXRlcnMgPSB7XG5cdFx0XG5cdFx0XHQvKipcblx0XHRcdCAqIFJlZmVyZW5jZSB0byB0aGUgcGFyZW50IG1ldGFib3ggY2xhc3Ncblx0XHRcdCAqIEB0eXBlICBvYmpcblx0XHRcdCAqL1xuXHRcdFx0bWV0YWJveGVzOiB0aGlzLFxuXHRcdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBqUXVlcnkgc2VsZWN0b3IgZm9yIGFsbCByZXBlYXRlciBlbGVtZW50cyBvbiB0aGUgY3VycmVudCBzY3JlZW5cblx0XHRcdCAqIEB0eXBlICB7W3R5cGVdfVxuXHRcdFx0ICovXG5cdFx0XHQkcmVwZWF0ZXJzOiBudWxsLFxuXHRcdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBJbml0XG5cdFx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdFx0ICogQHNpbmNlICAgIDMuMTEuMFxuXHRcdFx0ICogQHZlcnNpb24gIDMuMTcuM1xuXHRcdFx0ICovXG5cdFx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XHRcblx0XHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFxuXHRcdFx0XHRzZWxmLiRyZXBlYXRlcnMgPSAkKCAnLmxsbXMtbWItbGlzdC5yZXBlYXRlcicgKTtcblx0XHRcblx0XHRcdFx0aWYgKCBzZWxmLiRyZXBlYXRlcnMubGVuZ3RoICkge1xuXHRcdFxuXHRcdFx0XHRcdC8vIHdhaXQgZm9yIHRpbnlNQ0UganVzdCBpbiBjYXNlIHRoZWlyIGVkaXRvcnMgaW4gdGhlIHJlcGVhdGVyc1xuXHRcdFx0XHRcdExMTVMud2FpdF9mb3IoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuICggJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiB0aW55TUNFICk7XG5cdFx0XHRcdFx0fSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRzZWxmLmxvYWQoKTtcblx0XHRcdFx0XHRcdHNlbGYuYmluZCgpO1xuXHRcdFx0XHRcdH0gKTtcblx0XHRcblx0XHRcdFx0XHQvLyBvbiBjbGljayBvZiBhbnkgcG9zdCBzdWJtaXQgYnV0dG9ucyBhZGQgc29tZSBkYXRhIHRvIHRoZSBzdWJtaXQgYnV0dG9uXG5cdFx0XHRcdFx0Ly8gc28gd2UgY2FuIHNlZSB3aGljaCBidXR0b24gdG8gdHJpZ2dlciBhZnRlciByZXBlYXRlcnMgYXJlIGZpbmlzaGVkXG5cdFx0XHRcdFx0JCggJyNwb3N0IGlucHV0W3R5cGU9XCJzdWJtaXRcIl0nICkub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0JCggdGhpcyApLmF0dHIoICdkYXRhLWxsbXMtY2xpY2tlZCcsICd5ZXMnICk7XG5cdFx0XHRcdFx0fSApO1xuXHRcdFxuXHRcdFx0XHRcdC8vIGhhbmRsZSBwb3N0IHN1Ym1pc3Npb25cblx0XHRcdFx0XHQkKCAnI3Bvc3QnICkub24oICdzdWJtaXQnLCBzZWxmLmhhbmRsZV9zdWJtaXQgKTtcblx0XHRcblx0XHRcdFx0fVxuXHRcdFxuXHRcdFx0fSxcblx0XHRcblx0XHRcdC8qKlxuXHRcdFx0ICogQmluZCBET00gRXZlbnRzXG5cdFx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdFx0ICogQHNpbmNlICAgIDMuMTEuMFxuXHRcdFx0ICogQHZlcnNpb24gIDMuMTMuMFxuXHRcdFx0ICovXG5cdFx0XHRiaW5kOiBmdW5jdGlvbigpIHtcblx0XHRcblx0XHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFxuXHRcdFx0XHRzZWxmLiRyZXBlYXRlcnMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XG5cdFx0XHRcdFx0dmFyICRyZXBlYXRlciA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHRcdCRyb3dzID0gJHJlcGVhdGVyLmZpbmQoICcubGxtcy1yZXBlYXRlci1yb3dzJyApLFxuXHRcdFx0XHRcdFx0JG1vZGVsID0gJHJlcGVhdGVyLmZpbmQoICcubGxtcy1yZXBlYXRlci1tb2RlbCcgKTtcblx0XHRcblx0XHRcdFx0XHR0aW55TUNFLkVkaXRvck1hbmFnZXIuZXhlY0NvbW1hbmQoICdtY2VSZW1vdmVFZGl0b3InLCB0cnVlLCAkbW9kZWwuZmluZCggJy5sbG1zLW1iLWxpc3QuZWRpdG9yIHRleHRhcmVhJyApLmF0dHIoICdpZCcgKSApO1xuXHRcdFxuXHRcdFx0XHRcdC8vIGZvciB0aGUgcmVwZWF0ZXIgKyBidXR0b25cblx0XHRcdFx0XHQkcmVwZWF0ZXIuZmluZCggJy5sbG1zLXJlcGVhdGVyLW5ldy1idG4nICkub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0c2VsZi5hZGRfcm93KCAkcmVwZWF0ZXIsIG51bGwsIHRydWUgKTtcblx0XHRcdFx0XHR9ICk7XG5cdFx0XG5cdFx0XHRcdFx0Ly8gbWFrZSByZXBlYXRlciByb3dzIHNvcnRhYmxlXG5cdFx0XHRcdFx0JHJvd3Muc29ydGFibGUoIHtcblx0XHRcdFx0XHRcdGhhbmRsZTogJy5sbG1zLWRyYWctaGFuZGxlJyxcblx0XHRcdFx0XHRcdGl0ZW1zOiAnLmxsbXMtcmVwZWF0ZXItcm93Jyxcblx0XHRcdFx0XHRcdHN0YXJ0OiBmdW5jdGlvbiggZXZlbnQsIHVpICkge1xuXHRcdFx0XHRcdFx0XHQkcm93cy5hZGRDbGFzcyggJ2RyYWdnaW5nJyApO1xuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHN0b3A6IGZ1bmN0aW9uKCBldmVudCwgdWkgKSB7XG5cdFx0XHRcdFx0XHRcdCRyb3dzLnJlbW92ZUNsYXNzKCAnZHJhZ2dpbmcnICk7XG5cdFx0XG5cdFx0XHRcdFx0XHRcdHZhciAkZWRzID0gdWkuaXRlbS5maW5kKCAndGV4dGFyZWEud3AtZWRpdG9yLWFyZWEnICk7XG5cdFx0XHRcdFx0XHRcdCRlZHMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGVkX2lkID0gJCggdGhpcyApLmF0dHIoICdpZCcgKTtcblx0XHRcdFx0XHRcdFx0XHR0aW55TUNFLkVkaXRvck1hbmFnZXIuZXhlY0NvbW1hbmQoICdtY2VSZW1vdmVFZGl0b3InLCB0cnVlLCBlZF9pZCApO1xuXHRcdFx0XHRcdFx0XHRcdHRpbnlNQ0UuRWRpdG9yTWFuYWdlci5leGVjQ29tbWFuZCggJ21jZUFkZEVkaXRvcicsIHRydWUsIGVkX2lkICk7XG5cdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcblx0XHRcdFx0XHRcdFx0c2VsZi5zYXZlKCAkcmVwZWF0ZXIgKTtcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0fSApO1xuXHRcdFxuXHRcdFx0XHRcdCRyZXBlYXRlci5vbiggJ2NsaWNrJywgJy5sbG1zLXJlcGVhdGVyLXJlbW92ZScsIGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0XHRcdHZhciAkcm93ID0gJCggdGhpcyApLmNsb3Nlc3QoICcubGxtcy1yZXBlYXRlci1yb3cnICk7XG5cdFx0XHRcdFx0XHRpZiAoIHdpbmRvdy5jb25maXJtKCBMTE1TLmwxMG4udHJhbnNsYXRlKCAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIHJvdz8gVGhpcyBjYW5ub3QgYmUgdW5kb25lLicgKSApICkge1xuXHRcdFx0XHRcdFx0XHQkcm93LnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0XHRzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRzZWxmLnNhdmUoICRyZXBlYXRlciApO1xuXHRcdFx0XHRcdFx0XHR9LCAxICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSApO1xuXHRcdFxuXHRcdFx0XHR9ICk7XG5cdFx0XG5cdFx0XHR9LFxuXHRcdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBBZGQgYSBuZXcgcm93IHRvIGEgcmVwZWF0ZXIgcm93cyBncm91cFxuXHRcdFx0ICogQHBhcmFtICAgIG9iaiAgICAkcmVwZWF0ZXIgIGpRdWVyeSBzZWxlY3RvciBmb3IgdGhlIHJlcGVhdGVyIHRvIGFkZCBhIHJvdyB0b1xuXHRcdFx0ICogQHBhcmFtICAgIG9iaiAgICBkYXRhICAgICAgIG9wdGlvbmFsIG9iamVjdCBvZiBkYXRhIHRvIGZpbGwgZmllbGRzIGluIHRoZSByb3cgd2l0aFxuXHRcdFx0ICogQHBhcmFtICAgIGJvb2wgICBleHBhbmQgICAgIGlmIHRydWUsIHdpbGwgYXV0b21hdGljYWxseSBvcGVuIHRoZSByb3cgYWZ0ZXIgYWRkaW5nIGl0IHRvIHRoZSBkb21cblx0XHRcdCAqIEByZXR1cm4gXHQgdm9pZFxuXHRcdFx0ICogQHNpbmNlICAgIDMuMTEuMFxuXHRcdFx0ICogQHZlcnNpb24gIDMuMTEuMFxuXHRcdFx0ICovXG5cdFx0XHRhZGRfcm93OiBmdW5jdGlvbiggJHJlcGVhdGVyLCBkYXRhLCBleHBhbmQgKSB7XG5cdFx0XG5cdFx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0XHQkcm93cyA9ICRyZXBlYXRlci5maW5kKCAnLmxsbXMtcmVwZWF0ZXItcm93cycgKSxcblx0XHRcdFx0XHQkbW9kZWwgPSAkcmVwZWF0ZXIuZmluZCggJy5sbG1zLXJlcGVhdGVyLW1vZGVsJyApLFxuXHRcdFx0XHRcdCRyb3cgPSAkbW9kZWwuZmluZCggJy5sbG1zLXJlcGVhdGVyLXJvdycgKS5jbG9uZSgpLFxuXHRcdFx0XHRcdG5ld19pbmRleCA9ICRyZXBlYXRlci5maW5kKCAnLmxsbXMtcmVwZWF0ZXItcm93JyApLmxlbmd0aCxcblx0XHRcdFx0XHRlZGl0b3IgPSBzZWxmLnJlaW5kZXgoICRyb3csIG5ld19pbmRleCApO1xuXHRcdFxuXHRcdFx0XHRpZiAoIGRhdGEgKSB7XG5cdFx0XHRcdFx0JC5lYWNoKCBkYXRhLCBmdW5jdGlvbigga2V5LCB2YWwgKSB7XG5cdFx0XG5cdFx0XHRcdFx0XHR2YXIgJGZpZWxkID0gJHJvdy5maW5kKCAnW25hbWVePVwiJyArIGtleSArICdcIl0nKTtcblx0XHRcblx0XHRcdFx0XHRcdGlmICggJGZpZWxkLmhhc0NsYXNzKCAnbGxtcy1zZWxlY3QyLXN0dWRlbnQnICkgKSB7XG5cdFx0XHRcdFx0XHRcdCQuZWFjaCggdmFsLCBmdW5jdGlvbiggaSwgZGF0YSApIHtcblx0XHRcdFx0XHRcdFx0XHQkZmllbGQuYXBwZW5kKCAnPG9wdGlvbiB2YWx1ZT1cIicgKyBkYXRhLmtleSArICdcIiBzZWxlY3RlZD1cInNlbGVjdGVkXCI+JyArIGRhdGEudGl0bGUgKyAnPC9vcHRpb24+Jylcblx0XHRcdFx0XHRcdFx0fSApIDtcblx0XHRcdFx0XHRcdFx0JGZpZWxkLnRyaWdnZXIoICdjaGFuZ2UnICk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQkZmllbGQudmFsKCB2YWwgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcblx0XHRcblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdH1cblx0XHRcblx0XHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0c2VsZi5iaW5kX3JvdyggJHJvdyApO1xuXHRcdFx0XHR9LCAxICk7XG5cdFx0XG5cdFx0XHRcdCRyb3dzLmFwcGVuZCggJHJvdyApO1xuXHRcdFx0XHRpZiAoIGV4cGFuZCApIHtcblx0XHRcdFx0XHQkcm93LmZpbmQoICcubGxtcy1jb2xsYXBzaWJsZS1oZWFkZXInICkudHJpZ2dlciggJ2NsaWNrJyApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRpbnlNQ0UuRWRpdG9yTWFuYWdlci5leGVjQ29tbWFuZCggJ21jZUFkZEVkaXRvcicsIHRydWUsIGVkaXRvciApO1xuXHRcdFxuXHRcdFx0XHQkcmVwZWF0ZXIudHJpZ2dlciggJ2xsbXMtbmV3LXJlcGVhdGVyLXJvdycsIHtcblx0XHRcdFx0XHQkcm93OiAkcm93LFxuXHRcdFx0XHRcdGRhdGE6IGRhdGEsXG5cdFx0XHRcdH0gKTtcblx0XHRcblx0XHRcdH0sXG5cdFx0XG5cdFx0XHQvKipcblx0XHRcdCAqIEJpbmQgRE9NIGV2ZW50cyBmb3IgYSBzaW5nbGUgcmVwZWF0ZXIgcm93XG5cdFx0XHQgKiBAcGFyYW0gICAgb2JqICAgJHJvdyAgalF1ZXJ5IHNlbGVjdG9yIGZvciB0aGUgcm93XG5cdFx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdFx0ICogQHNpbmNlICAgIDMuMTEuMFxuXHRcdFx0ICogQHZlcnNpb24gIDMuMTMuMFxuXHRcdFx0ICovXG5cdFx0XHRiaW5kX3JvdzogZnVuY3Rpb24oICRyb3cgKSB7XG5cdFx0XG5cdFx0XHRcdHRoaXMuYmluZF9yb3dfaGVhZGVyKCAkcm93ICk7XG5cdFx0XG5cdFx0XHRcdCRyb3cuZmluZCggJy5sbG1zLXNlbGVjdDInICkubGxtc1NlbGVjdDIoIHtcblx0XHRcdFx0XHR3aWR0aDogJzEwMCUnLFxuXHRcdFx0XHR9ICk7XG5cdFx0XG5cdFx0XHRcdCRyb3cuZmluZCggJy5sbG1zLXNlbGVjdDItc3R1ZGVudCcgKS5sbG1zU3R1ZGVudHNTZWxlY3QyKCk7XG5cdFx0XG5cdFx0XHRcdHRoaXMubWV0YWJveGVzLmJpbmRfZGF0ZXBpY2tlcnMoICRyb3cuZmluZCggJy5sbG1zLWRhdGVwaWNrZXInICkgKTtcblx0XHRcdFx0dGhpcy5tZXRhYm94ZXMuYmluZF9jb250cm9sbGVycyggJHJvdy5maW5kKCAnW2RhdGEtaXMtY29udHJvbGxlcl0nICkgKTtcblx0XHRcdFx0Ly8gdGhpcy5tZXRhYm94ZXMuYmluZF9tZXJnZV9jb2RlX2J1dHRvbnMoICRyb3cuZmluZCggJy5sbG1zLW1lcmdlLWNvZGUtd3JhcHBlcicgKSApO1xuXHRcdFxuXHRcdFx0fSxcblx0XHRcblx0XHRcdC8qKlxuXHRcdFx0ICogQmluZCByb3cgaGVhZGVyIGV2ZW50c1xuXHRcdFx0ICogQHBhcmFtICAgIG9iaiAgICRyb3cgIGpRdWVyeSBzZWxlY3RvciBmb3IgdGhlIHJvd1xuXHRcdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHRcdCAqIEBzaW5jZSAgICAzLjExLjBcblx0XHRcdCAqIEB2ZXJzaW9uICAzLjExLjBcblx0XHRcdCAqL1xuXHRcdFx0YmluZF9yb3dfaGVhZGVyOiBmdW5jdGlvbiggJHJvdyApIHtcblx0XHRcblx0XHRcdFx0Ly8gaGFuZGxlIHRoZSB0aXRsZSBmaWVsZCBiaW5kaW5nXG5cdFx0XHRcdHZhciAkdGl0bGUgPSAkcm93LmZpbmQoICcubGxtcy1yZXBlYXRlci10aXRsZScgKSxcblx0XHRcdFx0XHQkZmllbGQgPSAkcm93LmZpbmQoICcubGxtcy1jb2xsYXBzaWJsZS1oZWFkZXItdGl0bGUtZmllbGQnICk7XG5cdFx0XG5cdFx0XHRcdCR0aXRsZS5hdHRyKCAnZGF0YS1kZWZhdWx0JywgJHRpdGxlLnRleHQoKSApO1xuXHRcdFxuXHRcdFx0XHQkZmllbGQub24oICdrZXl1cCBmb2N1c291dCBibHVyJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dmFyIHZhbCA9ICQoIHRoaXMgKS52YWwoKTtcblx0XHRcdFx0XHRpZiAoICEgdmFsICkge1xuXHRcdFx0XHRcdFx0dmFsID0gJHRpdGxlLmF0dHIoICdkYXRhLWRlZmF1bHQnICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdCR0aXRsZS50ZXh0KCB2YWwgKTtcblx0XHRcdFx0fSApLnRyaWdnZXIoICdrZXl1cCcgKTtcblx0XHRcblx0XHRcdH0sXG5cdFx0XG5cdFx0XHQvKipcblx0XHRcdCAqIEhhbmRsZSBXUCBQb3N0IGZvcm0gc3VibWlzc2lvbiB0byBlbnN1cmUgcmVwZWF0ZXJzIGFyZSBzYXZlZCBiZWZvcmUgc3VibWl0dGluZyB0aGUgZm9ybSB0byBzYXZlL3B1Ymxpc2ggdGhlIHBvc3Rcblx0XHRcdCAqIEBwYXJhbSAgICBvYmogICBlICBKUyBldmVudCBvYmplY3Rcblx0XHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0XHQgKiBAc2luY2UgICAgMy4xMS4wXG5cdFx0XHQgKiBAdmVyc2lvbiAgMy4xNy4zXG5cdFx0XHQgKi9cblx0XHRcdGhhbmRsZV9zdWJtaXQ6IGZ1bmN0aW9uKCBlICkge1xuXHRcdFxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XG5cdFx0XHRcdC8vIGdldCB0aGUgYnV0dG9uIHVzZWQgdG8gc3VibWl0IHRoZSBmb3JtXG5cdFx0XHRcdHZhciAkYnRuID0gJCggJyNwb3N0IFtkYXRhLWxsbXMtY2xpY2tlZD1cInllc1wiXScgKSxcblx0XHRcdFx0XHQkc3Bpbm5lciA9ICRidG4ucGFyZW50KCkuZmluZCggJy5zcGlubmVyJyApO1xuXHRcdFxuXHRcdFx0XHQvLyBjb3JlIFVYIHRvIHByZXZlbnQgbXVsdGktY2xpY2svb3IgdGhlIGFwcGVhcmFuY2Ugb2YgYSBkZWxheVxuXHRcdFx0XHQkKCAnI3Bvc3QgaW5wdXRbdHlwZT1cInN1Ym1pdFwiXScgKS5hZGRDbGFzcyggJ2Rpc2FibGVkJyApO1xuXHRcdFx0XHQkc3Bpbm5lci5hZGRDbGFzcyggJ2lzLWFjdGl2ZScgKTtcblx0XHRcblx0XHRcdFx0dmFyIHNlbGYgPSB3aW5kb3cubGxtcy5tZXRhYm94ZXMucmVwZWF0ZXJzLFxuXHRcdFx0XHRcdGkgPSAwLFxuXHRcdFx0XHRcdHdhaXQ7XG5cdFx0XG5cdFx0XHRcdHNlbGYuJHJlcGVhdGVycy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRzZWxmLnNhdmUoICQoIHRoaXMgKSApO1xuXHRcdFx0XHR9ICk7XG5cdFx0XG5cdFx0XHRcdHdhaXQgPSBzZXRJbnRlcnZhbCggZnVuY3Rpb24oKSB7XG5cdFx0XG5cdFx0XHRcdFx0aWYgKCBpID49IDU5IHx8ICEgJCggJy5sbG1zLW1iLWxpc3QucmVwZWF0ZXIucHJvY2Vzc2luZycgKS5sZW5ndGggKSB7XG5cdFx0XG5cdFx0XHRcdFx0XHRjbGVhckludGVydmFsKCB3YWl0ICk7XG5cdFx0XHRcdFx0XHQkKCAnI3Bvc3QnICkub2ZmKCAnc3VibWl0JywgdGhpcy5oYW5kbGVfc3VibWl0ICk7XG5cdFx0XHRcdFx0XHQkc3Bpbm5lci5yZW1vdmVDbGFzcyggJ2lzLWFjdGl2ZScgKTtcblx0XHRcdFx0XHRcdCRidG4ucmVtb3ZlQ2xhc3MoICdkaXNhYmxlZCcgKS50cmlnZ2VyKCAnY2xpY2snICk7XG5cdFx0XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcblx0XHRcdFx0XHRcdGkrKztcblx0XHRcblx0XHRcdFx0XHR9XG5cdFx0XG5cdFx0XHRcdH0sIDEwMDAgKTtcblx0XHRcblx0XHRcblx0XHRcdH0sXG5cdFx0XG5cdFx0XHQvKipcblx0XHRcdCAqIExvYWQgcmVwZXJlYXRlciBkYXRhIGZyb20gdGhlIHNlcnZlciBhbmQgY3JlYXRlIHJvd3MgaW4gdGhlIERPTVxuXHRcdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHRcdCAqIEBzaW5jZSAgICAzLjExLjBcblx0XHRcdCAqIEB2ZXJzaW9uICAzLjEyLjFcblx0XHRcdCAqL1xuXHRcdFx0bG9hZDogZnVuY3Rpb24oKSB7XG5cdFx0XG5cdFx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcblx0XHRcdFx0c2VsZi4kcmVwZWF0ZXJzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFxuXHRcdFx0XHRcdHZhciAkcmVwZWF0ZXIgPSAkKCB0aGlzICk7XG5cdFx0XG5cdFx0XHRcdFx0Ly8gZW5zdXJlIHRoZSByZXBlYXRlciBpcyBvbmx5IGxvYWRlZCBvbmNlIHRvIHByZXZlbnQgZHVwbGljYXRlcyByZXN1bHRpbmcgZnJvbSBkdXBsaWNhdGluZyBiaW5kaW5nXG5cdFx0XHRcdFx0Ly8gb24gY2VydGFpbiBzaXRlcyB3aGljaCBJIGNhbm5vdCBxdWl0ZSBleHBsYWluLi4uXG5cdFx0XHRcdFx0aWYgKCAkcmVwZWF0ZXIuaGFzQ2xhc3MoICdpcy1sb2FkZWQnICkgfHwgJHJlcGVhdGVyLmhhc0NsYXNzKCAncHJvY2Vzc2luZycgKSApIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XG5cdFx0XHRcdFx0c2VsZi5zdG9yZSggJHJlcGVhdGVyLCAnbG9hZCcsIGZ1bmN0aW9uKCBkYXRhICkge1xuXHRcdFxuXHRcdFx0XHRcdFx0JHJlcGVhdGVyLmFkZENsYXNzKCAnaXMtbG9hZGVkJyApO1xuXHRcdFxuXHRcdFx0XHRcdFx0JC5lYWNoKCBkYXRhLmRhdGEsIGZ1bmN0aW9uKCBpLCBvYmogKSB7XG5cdFx0XHRcdFx0XHRcdHNlbGYuYWRkX3JvdyggJHJlcGVhdGVyLCBvYmosIGZhbHNlICk7XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XG5cdFx0XHRcdFx0XHQvLyBmb3IgZWFjaCByb3cgd2l0aGluIHRoZSByZXBlYXRlclxuXHRcdFx0XHRcdFx0JHJlcGVhdGVyLmZpbmQoICcubGxtcy1yZXBlYXRlci1yb3dzIC5sbG1zLXJlcGVhdGVyLXJvdycgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0c2VsZi5iaW5kX3JvdyggJCggdGhpcyApICk7XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XG5cdFx0XHRcdFx0fSApO1xuXHRcdFxuXHRcdFxuXHRcdFxuXHRcdFx0XHR9ICk7XG5cdFx0XG5cdFx0XHR9LFxuXHRcdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBSZWluZGV4IGEgcm93XG5cdFx0XHQgKiByZW5hbWVzIGlkcywgYXR0cnMsIGFuZCBldGMuLi5cblx0XHRcdCAqIFVzZWQgd2hlbiBjbG9uaW5nIHRoZSBtb2RlbCBmb3IgbmV3IHJvd3Ncblx0XHRcdCAqIEBwYXJhbSAgICBvYmogICAgICAgICAgJHJvdyAgalF1ZXJ5IHNlbGVjdG9yIGZvciB0aGUgcm93XG5cdFx0XHQgKiBAcGFyYW0gICAgaW50fHN0cmluZyAgIGluZGV4ICBpbmRleCAob3IgaWQpIHRvIHVzZSB3aGVuIHJlbmFtaW5nXG5cdFx0XHQgKiBAcmV0dXJuICAgc3RyaW5nXG5cdFx0XHQgKiBAc2luY2UgICAgMy4xMS4wXG5cdFx0XHQgKiBAdmVyc2lvbiAgMy4xMS4wXG5cdFx0XHQgKi9cblx0XHRcdHJlaW5kZXg6IGZ1bmN0aW9uKCAkcm93LCBpbmRleCApIHtcblx0XHRcblx0XHRcdFx0dmFyIG9sZF9pbmRleCA9ICRyb3cuYXR0ciggJ2RhdGEtcm93LW9yZGVyJyApLFxuXHRcdFx0XHRcdCRlZCA9ICRyb3cuZmluZCggJy5sbG1zLW1iLWxpc3QuZWRpdG9yIHRleHRhcmVhJyApO1xuXHRcdFxuXHRcdFx0XHR0aW55TUNFLkVkaXRvck1hbmFnZXIuZXhlY0NvbW1hbmQoICdtY2VSZW1vdmVFZGl0b3InLCB0cnVlLCAkZWQuYXR0ciggJ2lkJyApICk7XG5cdFx0XG5cdFx0XHRcdGZ1bmN0aW9uIHJlcGxhY2VfYXR0ciggJGVsLCBhdHRyICkge1xuXHRcdFx0XHRcdCRlbC5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHZhciBzdHIgPSAkKCB0aGlzICkuYXR0ciggYXR0ciApO1xuXHRcdFx0XHRcdFx0JCggdGhpcyApLmF0dHIoIGF0dHIsIHN0ci5yZXBsYWNlKCBvbGRfaW5kZXgsIGluZGV4ICkgKTtcblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdH07XG5cdFx0XG5cdFx0XHRcdCRyb3cuYXR0ciggJ2RhdGEtcm93LW9yZGVyJywgaW5kZXggKTtcblx0XHRcblx0XHRcdFx0cmVwbGFjZV9hdHRyKCAkcm93LCAnZGF0YS1yb3ctb3JkZXInICk7XG5cdFx0XG5cdFx0XHRcdHJlcGxhY2VfYXR0ciggJHJvdy5maW5kKCAnYnV0dG9uLmluc2VydC1tZWRpYScgKSwgJ2RhdGEtZWRpdG9yJyApO1xuXHRcdFxuXHRcdFx0XHRyZXBsYWNlX2F0dHIoICRyb3cuZmluZCggJ2lucHV0W25hbWVePVwiX2xsbXNcIl0sIHRleHRhcmVhW25hbWVePVwiX2xsbXNcIl0sIHNlbGVjdFtuYW1lXj1cIl9sbG1zXCJdJyApLCAnaWQnICk7XG5cdFx0XHRcdHJlcGxhY2VfYXR0ciggJHJvdy5maW5kKCAnaW5wdXRbbmFtZV49XCJfbGxtc1wiXSwgdGV4dGFyZWFbbmFtZV49XCJfbGxtc1wiXSwgc2VsZWN0W25hbWVePVwiX2xsbXNcIl0nICksICduYW1lJyApO1xuXHRcdFx0XHRyZXBsYWNlX2F0dHIoICRyb3cuZmluZCggJ1tkYXRhLWNvbnRyb2xsZXJdJyApLCAnZGF0YS1jb250cm9sbGVyJyApO1xuXHRcdFx0XHRyZXBsYWNlX2F0dHIoICRyb3cuZmluZCggJ1tkYXRhLWNvbnRyb2xsZXJdJyApLCAnZGF0YS1jb250cm9sbGVyJyApO1xuXHRcdFx0XHRyZXBsYWNlX2F0dHIoICRyb3cuZmluZCggJ2J1dHRvbi53cC1zd2l0Y2gtZWRpdG9yJyApLCAnZGF0YS13cC1lZGl0b3ItaWQnICk7XG5cdFx0XHRcdHJlcGxhY2VfYXR0ciggJHJvdy5maW5kKCAnYnV0dG9uLndwLXN3aXRjaC1lZGl0b3InICksICdpZCcgKTtcblx0XHRcdFx0cmVwbGFjZV9hdHRyKCAkcm93LmZpbmQoICcud3AtZWRpdG9yLXRvb2xzJyApLCAnaWQnICk7XG5cdFx0XHRcdHJlcGxhY2VfYXR0ciggJHJvdy5maW5kKCAnLndwLWVkaXRvci1jb250YWluZXInICksICdpZCcgKTtcblx0XHRcblx0XHRcblx0XHRcdFx0cmV0dXJuICRlZC5hdHRyKCAnaWQnICk7XG5cdFx0XG5cdFx0XHR9LFxuXHRcdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBTYXZlIGEgc2luZ2xlIHJlcGVhdGVycyBkYXRhIHRvIHRoZSBzZXJ2ZXJcblx0XHRcdCAqIEBwYXJhbSAgICBvYmogICAkcmVwZWF0ZXIgIGpRdWVyeSBzZWxlY3RvciBmb3IgYSByZXBlYXRlciBlbGVtZW50XG5cdFx0XHQgKiBAcmV0dXJuICAgdm9pc1xuXHRcdFx0ICogQHNpbmNlICAgIDMuMTEuMFxuXHRcdFx0ICogQHZlcnNpb24gIDMuMTMuMFxuXHRcdFx0ICovXG5cdFx0XHRzYXZlOiBmdW5jdGlvbiggJHJlcGVhdGVyICkge1xuXHRcdFx0XHQkcmVwZWF0ZXIudHJpZ2dlciggJ2xsbXMtcmVwZWF0ZXItYmVmb3JlLXNhdmUnLCB7ICRlbDogJHJlcGVhdGVyIH0gKTtcblx0XHRcdFx0dGhpcy5zdG9yZSggJHJlcGVhdGVyLCAnc2F2ZScgKTtcblx0XHRcdH0sXG5cdFx0XG5cdFx0XHQvKipcblx0XHRcdCAqIENvbnZlcnQgYSByZXBlYXRlciBlbGVtZW50IGludG8gYW4gYXJyYXkgb2Ygb2JqZWN0cyB0aGF0IGNhbiBiZSBzYXZlZCB0byB0aGUgZGF0YWJhc2Vcblx0XHRcdCAqIEBwYXJhbSAgICBvYmogICAkcmVwZWF0ZXIgIGpRdWVyeSBzZWxlY3RvciBmb3IgYSByZXBlYXRlciBlbGVtZW50XG5cdFx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdFx0ICogQHNpbmNlICAgIDMuMTEuMFxuXHRcdFx0ICogQHZlcnNpb24gIDMuMTEuMFxuXHRcdFx0ICovXG5cdFx0XHRzZXJpYWxpemU6IGZ1bmN0aW9uKCAkcmVwZWF0ZXIgKSB7XG5cdFx0XG5cdFx0XHRcdHZhciByb3dzID0gW107XG5cdFx0XG5cdFx0XHRcdCRyZXBlYXRlci5maW5kKCAnLmxsbXMtcmVwZWF0ZXItcm93cyAubGxtcy1yZXBlYXRlci1yb3cnICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XG5cdFx0XHRcdFx0dmFyIG9iaiA9IHt9O1xuXHRcdFxuXHRcdFx0XHRcdC8vIGVhc3kuLi5cblx0XHRcdFx0XHQkKCB0aGlzICkuZmluZCggJ2lucHV0W25hbWVePVwiX2xsbXNcIl0sIHNlbGVjdFtuYW1lXj1cIl9sbG1zXCJdJyApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0b2JqWyAkKCB0aGlzICkuYXR0ciggJ25hbWUnICkgXSA9ICQoIHRoaXMgKS52YWwoKTtcblx0XHRcdFx0XHR9ICk7XG5cdFx0XG5cdFx0XHRcdFx0Ly8gY2hlY2sgaWYgdGhlIHRleHRhcmVhIGlzIGEgdGlueU1DRSBpbnN0YW5jZVxuXHRcdFx0XHRcdCQoIHRoaXMgKS5maW5kKCAndGV4dGFyZWFbbmFtZV49XCJfbGxtc1wiXScgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcblx0XHRcdFx0XHRcdHZhciBuYW1lID0gJCggdGhpcyApLmF0dHIoICduYW1lJyApO1xuXHRcdFxuXHRcdFx0XHRcdFx0Ly8gaWYgaXQgaXMgYW4gZWRpdG9yXG5cdFx0XHRcdFx0XHRpZiAoIHRpbnlNQ0UuZWRpdG9yc1sgbmFtZSBdICkge1xuXHRcdFx0XHRcdFx0XHRvYmpbIG5hbWUgXSA9IHRpbnlNQ0UuZWRpdG9yc1sgbmFtZSBdLmdldENvbnRlbnQoKTtcblx0XHRcdFx0XHRcdC8vIGdyYWIgdGhlIHZhbCBvZiB0aGUgdGV4dGFyZWFcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdG9ialsgbmFtZSBdID0gJCggdGhpcyApLnZhbCgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFxuXHRcdFx0XHRcdH0gKTtcblx0XHRcblx0XHRcdFx0XHRyb3dzLnB1c2goIG9iaiApO1xuXHRcdFxuXHRcdFx0XHR9ICk7XG5cdFx0XG5cdFx0XHRcdHJldHVybiByb3dzO1xuXHRcdFxuXHRcdFx0fSxcblx0XHRcblx0XHRcdC8qKlxuXHRcdFx0ICogQUpBWCBtZXRob2QgZm9yIGludGVyYWN0aW5nIHdpdGggdGhlIHJlcGVhdGVyJ3MgaGFuZGxlciBvbiB0aGUgc2VydmVyXG5cdFx0XHQgKiBAcGFyYW0gICAgb2JqICAgICAgICRyZXBlYXRlciAgalF1ZXJ5IHNlbGVjdG9yIGZvciB0aGUgcmVwZWF0ZXIgZWxlbWVudFxuXHRcdFx0ICogQHBhcmFtICAgIHN0cmluZyAgICBhY3Rpb24gICAgIGFjdGlvbiB0byBjYWxsIFtzYXZlfGxvYWRdXG5cdFx0XHQgKiBAcGFyYW0gICAgZnVuY3Rpb24gIGNiICAgICAgICAgY2FsbGJhY2sgZnVuY3Rpb25cblx0XHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0XHQgKiBAc2luY2UgICAgMy4xMS4wXG5cdFx0XHQgKiBAdmVyc2lvbiAgMy4xMS4wXG5cdFx0XHQgKi9cblx0XHRcdHN0b3JlOiBmdW5jdGlvbiggJHJlcGVhdGVyLCBhY3Rpb24sIGNiICkge1xuXHRcdFxuXHRcdFx0XHRjYiA9IGNiIHx8IGZ1bmN0aW9uKCl7fTtcblx0XHRcdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0XHRcdGRhdGEgPSB7XG5cdFx0XHRcdFx0XHRhY3Rpb246ICRyZXBlYXRlci5maW5kKCAnLmxsbXMtcmVwZWF0ZXItZmllbGQtaGFuZGxlcicgKS52YWwoKSxcblx0XHRcdFx0XHRcdHN0b3JlX2FjdGlvbjogYWN0aW9uLFxuXHRcdFx0XHRcdH07XG5cdFx0XG5cdFx0XHRcdGlmICggJ3NhdmUnID09PSBhY3Rpb24gKSB7XG5cdFx0XHRcdFx0ZGF0YS5yb3dzID0gc2VsZi5zZXJpYWxpemUoICRyZXBlYXRlciApO1xuXHRcdFx0XHR9XG5cdFx0XG5cdFx0XHRcdExMTVMuQWpheC5jYWxsKCB7XG5cdFx0XHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdFx0XHRiZWZvcmVTZW5kOiBmdW5jdGlvbigpIHtcblx0XHRcblx0XHRcdFx0XHRcdCRyZXBlYXRlci5hZGRDbGFzcyggJ3Byb2Nlc3NpbmcnICk7XG5cdFx0XHRcdFx0XHRMTE1TLlNwaW5uZXIuc3RhcnQoICRyZXBlYXRlciApO1xuXHRcdFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oIHIgKSB7XG5cdFx0XG5cdFx0XHRcdFx0XHRjYiggciApO1xuXHRcdFx0XHRcdFx0TExNUy5TcGlubmVyLnN0b3AoICRyZXBlYXRlciApO1xuXHRcdFx0XHRcdFx0JHJlcGVhdGVyLnJlbW92ZUNsYXNzKCAncHJvY2Vzc2luZycgKTtcblx0XHRcblx0XHRcdFx0XHR9XG5cdFx0XG5cdFx0XHRcdH0gKTtcblx0XHRcblx0XHRcdH0sXG5cdFx0XG5cdFx0fTtcblx0XHR0aGlzLnJlcGVhdGVycy5pbml0KCk7XG5cdFx0XG5cblxuXHRcdC8qKlxuXHRcdCAqIEluaXRpYWxpemVcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjEzLjBcblx0XHQgKi9cblx0XHR0aGlzLmluaXQgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHQkKCAnLmxsbXMtc2VsZWN0Mi1wb3N0JyApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLnBvc3Rfc2VsZWN0KCAkKCB0aGlzICkgKTtcblx0XHRcdH0gKTtcblxuXHRcdFx0JCggJy5sbG1zLWNvbGxhcHNpYmxlLWdyb3VwJyApLmxsbXNDb2xsYXBzaWJsZSgpO1xuXG5cdFx0XHR0aGlzLmJpbmRfdGFicygpO1xuXG5cdFx0XHQvLyBiaW5kIGV2ZXJ5dGhpbmcgYmV0dGVyIGFuZCBsZXNzIHJlcGV0YXRpdmVseS4uLlxuXHRcdFx0dmFyIGJpbmRpbmdzID0gW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c2VsZWN0b3I6ICQoICcubGxtcy1kYXRlcGlja2VyJyApLFxuXHRcdFx0XHRcdGZ1bmM6ICdiaW5kX2RhdGVwaWNrZXJzJyxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHNlbGVjdG9yOiAkKCAnLmxsbXMtc2VsZWN0MicgKSxcblx0XHRcdFx0XHRmdW5jOiBmdW5jdGlvbiggJHNlbGVjdG9yICkge1xuXHRcdFx0XHRcdFx0JHNlbGVjdG9yLmxsbXNTZWxlY3QyKCB7XG5cdFx0XHRcdFx0XHRcdHdpZHRoOiAnMTAwJScsXG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHNlbGVjdG9yOiAkKCAnLmxsbXMtc2VsZWN0Mi1zdHVkZW50JyApLFxuXHRcdFx0XHRcdGZ1bmM6IGZ1bmN0aW9uKCAkc2VsZWN0b3IgKSB7XG5cdFx0XHRcdFx0XHQkc2VsZWN0b3IubGxtc1N0dWRlbnRzU2VsZWN0MigpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHNlbGVjdG9yOiAkKCAnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdW2RhdGEtY29udHJvbHNdJyApLFxuXHRcdFx0XHRcdGZ1bmM6ICdiaW5kX2NiX2NvbnRyb2xsZXJzJyxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHNlbGVjdG9yOiAkKCAnW2RhdGEtaXMtY29udHJvbGxlcl0nICksXG5cdFx0XHRcdFx0ZnVuYzogJ2JpbmRfY29udHJvbGxlcnMnLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c2VsZWN0b3I6ICQoICcubGxtcy10YWJsZScgKSxcblx0XHRcdFx0XHRmdW5jOiAnYmluZF90YWJsZXMnLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c2VsZWN0b3I6ICQoICcubGxtcy1tZXJnZS1jb2RlLXdyYXBwZXInICksXG5cdFx0XHRcdFx0ZnVuYzogJ2JpbmRfbWVyZ2VfY29kZV9idXR0b25zJyxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHNlbGVjdG9yOiAkKCAnYS5sbG1zLWVkaXRhYmxlJyApLFxuXHRcdFx0XHRcdGZ1bmM6ICdiaW5kX2VkaXRhYmxlcycsXG5cdFx0XHRcdH0sXG5cdFx0XHRdO1xuXG5cdFx0XHQvLyBiaW5kIGFsbCB0aGUgYmluZGFibGVzIGJ1dCBkb24ndCBiaW5kIHRoaW5ncyBpbiByZXBlYXRlcnNcblx0XHRcdCQuZWFjaCggYmluZGluZ3MsIGZ1bmN0aW9uKCBpbmRleCwgb2JqICkge1xuXG5cdFx0XHRcdGlmICggb2JqLnNlbGVjdG9yLmxlbmd0aCApIHtcblxuXHRcdFx0XHRcdC8vIHJlZHVjZSB0aGUgc2VsZWN0b3IgdG8gZXhjbHVkZSBpdGVtcyBpbiBhIHJlcGVhdGVyXG5cdFx0XHRcdFx0dmFyIHJlZHVjZWQgPSBvYmouc2VsZWN0b3IuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHJldHVybiAoIDAgPT09ICQoIHRoaXMgKS5jbG9zZXN0KCAnLmxsbXMtcmVwZWF0ZXItbW9kZWwnICkubGVuZ3RoICk7XG5cdFx0XHRcdFx0fSApO1xuXG5cdFx0XHRcdFx0Ly8gYmluZCBieSBzdHJpbmdcblx0XHRcdFx0XHRpZiAoICdzdHJpbmcnID09PSB0eXBlb2Ygb2JqLmZ1bmMgKSB7XG5cdFx0XHRcdFx0XHRzZWxmWyBvYmouZnVuYyBdKCByZWR1Y2VkICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8vIGJpbmQgYnkgYW4gYW5vbnltb3VzIGZ1bmN0aW9uXG5cdFx0XHRcdFx0ZWxzZSBpZiAoICdmdW5jdGlvbicgPT09IHR5cGVvZiBvYmouZnVuYyApIHtcblx0XHRcdFx0XHRcdG9iai5mdW5jKCByZWR1Y2VkICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblxuXHRcdFx0fSApO1xuXG5cdFx0XHQvLyBpZiBhIHBvc3QgdHlwZSBpcyBzZXQgJiBhIGJpbmQgZXhpc3RzIGZvciBpdCwgYmluZCBpdFxuXHRcdFx0aWYgKCB3aW5kb3cubGxtcy5wb3N0LnBvc3RfdHlwZSApIHtcblxuXHRcdFx0XHR2YXIgZnVuYyA9ICdiaW5kXycgKyB3aW5kb3cubGxtcy5wb3N0LnBvc3RfdHlwZTtcblxuXHRcdFx0XHRpZiAoICdmdW5jdGlvbicgPT09IHR5cGVvZiB0aGlzW2Z1bmNdICkge1xuXG5cdFx0XHRcdFx0dGhpc1tmdW5jXSgpO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgY2hlY2tib3hlcyB0aGF0IGNvbnRyb2wgdGhlIGRpc3BsYXkgb2Ygb3RoZXIgZWxlbWVudHNcblx0XHQgKiBAcGFyYW0gICAgb2JqICAgJGNvbnRyb2xsZXJzcyAgalF1ZXJ5IHNlbGN0b3IgZm9yIGNoZWNrYm94ZXMgdG8gYmUgYm91bmQgYXMgY2hlY2tib3ggY29udHJvbGxlcnNcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjExLjBcblx0XHQgKi9cblx0XHR0aGlzLmJpbmRfY2JfY29udHJvbGxlcnMgPSBmdW5jdGlvbiggJGNvbnRyb2xsZXJzICkge1xuXG5cdFx0XHQkY29udHJvbGxlcnMgPSAkY29udHJvbGxlcnMgfHwgJCggJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXVtkYXRhLWNvbnRyb2xzXScgKTtcblxuXHRcdFx0JGNvbnRyb2xsZXJzLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdHZhciAkY2IgPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0JGNvbnRyb2xsZWQgPSAkKCAkY2IuYXR0ciggJ2RhdGEtY29udHJvbHMnICkgKS5jbG9zZXN0KCAnLmxsbXMtbWItbGlzdCcgKTtcblxuXHRcdFx0XHQkY2Iub24oICdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdGlmICggJCggdGhpcyApLmlzKCAnOmNoZWNrZWQnICkgKSB7XG5cblx0XHRcdFx0XHRcdCRjb250cm9sbGVkLnNsaWRlRG93biggMjAwICk7XG5cblx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHQkY29udHJvbGxlZC5zbGlkZVVwKCAyMDAgKTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0JGNiLnRyaWdnZXIoICdjaGFuZ2UnICk7XG5cblx0XHRcdH0gKTtcblxuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBCaW5kIGVsZW1lbnRzIHRoYXQgY29udHJvbCB0aGUgZGlzcGxheSBvZiBvdGhlciBlbGVtZW50c1xuXHRcdCAqIEBwYXJhbSAgICBvYmogICAkY29udHJvbGxlcnNzICBqUXVlcnkgc2VsY3RvciBmb3IgZWxlbWVudHMgdG8gYmUgYm91bmQgYXMgY2hlY2tib3ggY29udHJvbGxlcnNcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjExLjBcblx0XHQgKi9cblx0XHR0aGlzLmJpbmRfY29udHJvbGxlcnMgPSBmdW5jdGlvbiggJGNvbnRyb2xsZXJzICkge1xuXG5cdFx0XHQkY29udHJvbGxlcnMgPSAkY29udHJvbGxlcnMgfHwgJCggJ1tkYXRhLWlzLWNvbnRyb2xsZXJdJyApO1xuXG5cdFx0XHQkY29udHJvbGxlcnMuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0dmFyICRlbCA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHQkY29udHJvbGxlZCA9ICQoICdbZGF0YS1jb250cm9sbGVyPVwiIycgKyAkZWwuYXR0ciggJ2lkJyApICsgJ1wiXScgKSxcblx0XHRcdFx0XHR2YWw7XG5cblx0XHRcdFx0JGVsLm9uKCAnY2hhbmdlJywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRpZiAoICdjaGVja2JveCcgPT09ICRlbC5hdHRyKCAndHlwZScgKSApIHtcblxuXHRcdFx0XHRcdFx0dmFsID0gJGVsLmlzKCAnOmNoZWNrZWQnICkgPyAkZWwudmFsKCkgOiAnZmFsc2UnO1xuXG5cdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0dmFsID0gJGVsLnZhbCgpO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0JGNvbnRyb2xsZWQuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRcdHZhciBwb3NzaWJsZSA9ICQoIHRoaXMgKS5hdHRyKCAnZGF0YS1jb250cm9sbGVyLXZhbHVlJyApLFxuXHRcdFx0XHRcdFx0XHR2YWxzID0gW107XG5cblx0XHRcdFx0XHRcdGlmICggLTEgIT09IHBvc3NpYmxlLmluZGV4T2YoICcsJyApICkge1xuXG5cdFx0XHRcdFx0XHRcdHZhbHMgPSBwb3NzaWJsZS5zcGxpdCggJywnICk7XG5cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0dmFscy5wdXNoKCBwb3NzaWJsZSApO1xuXG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGlmICggLTEgIT09IHZhbHMuaW5kZXhPZiggdmFsICkgKSB7XG5cblx0XHRcdFx0XHRcdFx0JCggdGhpcyApLnNsaWRlRG93biggMjAwICk7XG5cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0JCggdGhpcyApLnNsaWRlVXAoIDIwMCApO1xuXG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR9ICk7XG5cblxuXHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0JGVsLnRyaWdnZXIoICdjaGFuZ2UnICk7XG5cblx0XHRcdH0gKTtcblxuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBCaW5kIGEgc2luZ2xlIGRhdGVwaWNrZXIgZWxlbWVudFxuXHRcdCAqIEBwYXJhbSAgICBvYmogICAkZWwgIGpRdWVyeSBzZWxlY3RvciBmb3IgdGhlIGlucHV0IHRvIGJpbmQgdGhlIGRhdGVwaWNrZXIgdG9cblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjEwLjBcblx0XHQgKi9cblx0XHR0aGlzLmJpbmRfZGF0ZXBpY2tlciA9IGZ1bmN0aW9uKCAkZWwgKSB7XG5cdFx0XHR2YXIgZm9ybWF0ID0gJGVsLmF0dHIoICdkYXRhLWZvcm1hdCcgKSB8fCAnbW0vZGQveXknLFxuXHRcdFx0XHRtYXhEYXRlID0gJGVsLmF0dHIoICdkYXRhLW1heC1kYXRlJyApIHx8IG51bGwsXG5cdFx0XHRcdG1pbkRhdGUgPSAkZWwuYXR0ciggJ2RhdGEtbWluLWRhdGUnICkgfHwgbnVsbDtcblx0XHRcdCRlbC5kYXRlcGlja2VyKCB7XG5cdFx0XHRcdGRhdGVGb3JtYXQ6IGZvcm1hdCxcblx0XHRcdFx0bWF4RGF0ZTogbWF4RGF0ZSxcblx0XHRcdFx0bWluRGF0ZTogbWluRGF0ZSxcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBCaW5kIGFsbCBMaWZ0ZXJMTVMgZGF0ZXBpY2tlcnNcblx0XHQgKiBAcGFyYW0gICAgb2JqICAgJGRhdGVwaWNrZXJzICBqUXVlcnkgc2VsZWN0b3IgZm9yIHRoZSBlbGVtZW50cyB0byBiaW5kXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xMS4wXG5cdFx0ICovXG5cdFx0dGhpcy5iaW5kX2RhdGVwaWNrZXJzID0gZnVuY3Rpb24oICRkYXRlcGlja2VycyApIHtcblxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHQkZGF0ZXBpY2tlcnMgPSAkZGF0ZXBpY2tlcnMgfHwgJCgnLmxsbXMtZGF0ZXBpY2tlcicpO1xuXG5cdFx0XHQkZGF0ZXBpY2tlcnMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNlbGYuYmluZF9kYXRlcGlja2VyKCAkKCB0aGlzICkgKTtcblx0XHRcdH0gKTtcblxuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBCaW5kIGxsbXMtZWRpdGFibGUgbWV0YWJveCBmaWVsZHMgYW5kIHJlbGF0ZWQgZG9tIGludGVyYWN0aW9uc1xuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMTAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjEwLjBcblx0XHQgKi9cblx0XHR0aGlzLmJpbmRfZWRpdGFibGVzID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0ZnVuY3Rpb24gbWFrZV9lZGl0YWJsZSggJGZpZWxkICkge1xuXG5cdFx0XHRcdHZhciAkbGFiZWwgPSAkZmllbGQuZmluZCggJ2xhYmVsJyApLmNsb25lKCksXG5cdFx0XHRcdFx0bmFtZSA9ICRmaWVsZC5hdHRyKCAnZGF0YS1sbG1zLWVkaXRhYmxlJyApLFxuXHRcdFx0XHRcdHR5cGUgPSAkZmllbGQuYXR0ciggJ2RhdGEtbGxtcy1lZGl0YWJsZS10eXBlJyApLFxuXHRcdFx0XHRcdHJlcXVpcmVkID0gJGZpZWxkLmF0dHIoICdkYXRhLWxsbXMtZWRpdGFibGUtcmVxdWlyZWQnICkgfHwgJ25vJyxcblx0XHRcdFx0XHR2YWwgPSAkZmllbGQuYXR0ciggJ2RhdGEtbGxtcy1lZGl0YWJsZS12YWx1ZScgKSxcblx0XHRcdFx0XHQkaW5wdXQ7XG5cblx0XHRcdFx0cmVxdWlyZWQgPSAoICd5ZXMnID09PSByZXF1aXJlZCApID8gJyByZXF1aXJlZD1cInJlcXVpcmVkXCInIDogJyc7XG5cblx0XHRcdFx0aWYgKCAnc2VsZWN0JyA9PT0gdHlwZSApIHtcblxuXHRcdFx0XHRcdHZhciBvcHRpb25zID0gSlNPTi5wYXJzZSggJGZpZWxkLmF0dHIoICdkYXRhLWxsbXMtZWRpdGFibGUtb3B0aW9ucycgKSApLFxuXHRcdFx0XHRcdFx0c2VsZWN0ZWQ7XG5cblx0XHRcdFx0XHQkaW5wdXQgPSAkKCAnPHNlbGVjdCBuYW1lPVwiJyArIG5hbWUgKyAnXCInICsgcmVxdWlyZWQgKyAnIC8+Jyk7XG5cdFx0XHRcdFx0Zm9yICggdmFyIGtleSBpbiBvcHRpb25zICkge1xuXHRcdFx0XHRcdFx0c2VsZWN0ZWQgPSB2YWwgPT09IGtleSA/ICcgc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiJyA6ICcnO1xuXHRcdFx0XHRcdFx0JGlucHV0LmFwcGVuZCggJzxvcHRpb24gdmFsdWU9XCInICsga2V5ICsgJ1wiJyArIHNlbGVjdGVkICsgJz4nICsgb3B0aW9uc1sga2V5IF0gKyAnPC9vcHRpb24+JyApO1xuXHRcdFx0XHRcdH1cblxuXG5cdFx0XHRcdH0gZWxzZSBpZiAoICdkYXRldGltZScgPT09IHR5cGUgKSB7XG5cblx0XHRcdFx0XHQkaW5wdXQgPSAkKCAnPGRpdiBjbGFzcz1cImxsbXMtZGF0ZXRpbWUtZmllbGRcIiAvPicgKTtcblxuXHRcdFx0XHRcdHZhbCA9IEpTT04ucGFyc2UoIHZhbCApO1xuXHRcdFx0XHRcdHZhciBmb3JtYXQgPSAkZmllbGQuYXR0ciggJ2RhdGEtbGxtcy1lZGl0YWJsZS1kYXRlLWZvcm1hdCcgKSB8fCAnJyxcblx0XHRcdFx0XHRcdG1pbl9kYXRlID0gJGZpZWxkLmF0dHIoICdkYXRhLWxsbXMtZWRpdGFibGUtZGF0ZS1taW4nICkgfHwgJycsXG5cdFx0XHRcdFx0XHRtYXhfZGF0ZSA9ICRmaWVsZC5hdHRyKCAnZGF0YS1sbG1zLWVkaXRhYmxlLWRhdGUtbWF4JyApIHx8ICcnO1xuXG5cdFx0XHRcdFx0JHBpY2tlciA9ICQoICc8aW5wdXQgY2xhc3M9XCJsbG1zLWRhdGUtaW5wdXQgbGxtcy1kYXRlcGlja2VyXCIgZGF0YS1mb3JtYXQ9XCInICsgZm9ybWF0ICsgJ1wiIGRhdGEtbWF4LWRhdGU9XCInICsgbWF4X2RhdGUgKyAnXCIgZGF0YS1taW4tZGF0ZT1cIicgKyBtaW5fZGF0ZSArICdcIiBuYW1lPVwiJyArIG5hbWUgKyAnW2RhdGVdXCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicgKyAgdmFsLmRhdGUgKyAnXCI+JyApO1xuXHRcdFx0XHRcdHNlbGYuYmluZF9kYXRlcGlja2VyKCAkcGlja2VyICk7XG5cdFx0XHRcdFx0JGlucHV0LmFwcGVuZCggJHBpY2tlciApO1xuXHRcdFx0XHRcdCRpbnB1dC5hcHBlbmQoICc8ZW0+QDwvZW0+Jyk7XG5cblx0XHRcdFx0XHQkaW5wdXQuYXBwZW5kKCAnPGlucHV0IGNsYXNzPVwibGxtcy10aW1lLWlucHV0XCIgbWF4PVwiMjNcIiBtaW49XCIwXCIgbmFtZT1cIicgKyBuYW1lICsgJ1tob3VyXVwiIHR5cGU9XCJudW1iZXJcIiB2YWx1ZT1cIicgKyAgdmFsLmhvdXIgKyAnXCI+JyApO1xuXHRcdFx0XHRcdCRpbnB1dC5hcHBlbmQoICc8ZW0+OjwvZW0+Jyk7XG5cdFx0XHRcdFx0JGlucHV0LmFwcGVuZCggJzxpbnB1dCBjbGFzcz1cImxsbXMtdGltZS1pbnB1dFwiIG1heD1cIjU5XCIgbWluPVwiMFwiIG5hbWU9XCInICsgbmFtZSArICdbbWludXRlXVwiIHR5cGU9XCJudW1iZXJcIiB2YWx1ZT1cIicgKyAgdmFsLm1pbnV0ZSArICdcIj4nICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdCRpbnB1dCA9ICQoICc8aW5wdXQgbmFtZT1cIicgKyBuYW1lICsgJ1wiIHR5cGU9XCInICsgdHlwZSArICdcIiB2YWx1ZT1cIicgKyB2YWwgKyAnXCInICsgcmVxdWlyZWQgKyAnPicpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0JGZpZWxkLmVtcHR5KCkuYXBwZW5kKCAkbGFiZWwgKS5hcHBlbmQoICRpbnB1dCApO1xuXG5cdFx0XHR9O1xuXG5cdFx0XHQkKCAnYS5sbG1zLWVkaXRhYmxlJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbiggZSApIHtcblxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdFx0dmFyICRidG4gPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0JGZpZWxkcztcblxuXHRcdFx0XHRpZiAoICRidG4uYXR0ciggJ2RhdGEtZmllbGRzJyApICkge1xuXHRcdFx0XHRcdCRmaWVsZHMgPSAkKCAkYnRuLmF0dHIoICdkYXRhLWZpZWxkcycgKSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCRmaWVsZHMgPSAkYnRuLmNsb3Nlc3QoICcubGxtcy1tZXRhYm94LXNlY3Rpb24nICkuZmluZCggJ1tkYXRhLWxsbXMtZWRpdGFibGVdJyApO1xuXHRcdFx0XHR9XG5cblxuXHRcdFx0XHQkYnRuLnJlbW92ZSgpO1xuXG5cdFx0XHRcdCRmaWVsZHMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0bWFrZV9lZGl0YWJsZSggJCggdGhpcyApICk7XG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0fSApO1xuXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgRW5nYWdlbWVudCBwb3N0IHR5cGUgSlNcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjEuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjEuMFxuXHRcdCAqL1xuXHRcdHRoaXMuYmluZF9sbG1zX2VuZ2FnZW1lbnQgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHQvLyB3aGVuIHRoZSBlbmdhZ2VtZW50IHR5cGUgY2hhbmdlcyB3ZSBuZWVkIHRvIGRvIHNvbWUgdGhpbmdzIHRvIHRoZSBVSVxuXHRcdFx0JCggJyNfbGxtc19lbmdhZ2VtZW50X3R5cGUnICkub24oICdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQkKCAnI19sbG1zX2VuZ2FnZW1lbnQnICkudHJpZ2dlciggJ2xsbXMtZW5nYWdlbWVudC10eXBlLWNoYW5nZScsICQoIHRoaXMgKS52YWwoKSApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHRcdC8vIGN1c3RvbSB0cmlnZ2VyIHdoZW4gY2FsbGVkIHdoZW4gdGhlIGVuZ2FnZW1lbnQgdHlwZSBjaGFuZ3Ncblx0XHRcdCQoICcjX2xsbXNfZW5nYWdlbWVudCcgKS5vbiggJ2xsbXMtZW5nYWdlbWVudC10eXBlLWNoYW5nZScsIGZ1bmN0aW9uKCBlLCBlbmdhZ2VtZW50X3R5cGUgKSB7XG5cblx0XHRcdFx0dmFyICRzZWxlY3QgPSAkKCB0aGlzICk7XG5cblx0XHRcdFx0c3dpdGNoICggZW5nYWdlbWVudF90eXBlICkge1xuXG5cdFx0XHRcdFx0LyoqXG5cdFx0XHRcdFx0ICogY29yZSBlbmdhZ2VtZW50cyByZWxhdGVkIHRvIGEgQ1BUXG5cdFx0XHRcdFx0ICovXG5cdFx0XHRcdFx0Y2FzZSAnYWNoaWV2ZW1lbnQnOlxuXHRcdFx0XHRcdGNhc2UgJ2NlcnRpZmljYXRlJzpcblx0XHRcdFx0XHRjYXNlICdlbWFpbCc6XG5cblx0XHRcdFx0XHRcdHZhciBjcHQgPSAnbGxtc18nICsgZW5nYWdlbWVudF90eXBlO1xuXG5cdFx0XHRcdFx0XHQkc2VsZWN0LnZhbCggbnVsbCApLmF0dHIoICdkYXRhLXBvc3QtdHlwZScsIGNwdCApLnRyaWdnZXIoICdjaGFuZ2UnICk7XG5cdFx0XHRcdFx0XHRzZWxmLnBvc3Rfc2VsZWN0KCAkc2VsZWN0ICk7XG5cblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdC8qKlxuXHRcdFx0XHRcdCAqIEFsbG93IG90aGVyIHBsdWdpbnMgYW5kIGRldmVsb3BlcnMgdG8gaG9vayBpbnRvIHRoZSBlbmdhZ2VtZW50IHR5cGUgY2hhbmdlIGFjdGlvblxuXHRcdFx0XHRcdCAqL1xuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cblx0XHRcdFx0XHRcdCRzZWxlY3QudHJpZ2dlciggJ2xsbXMtZW5nYWdlbWVudC10eXBlLWNoYW5nZS1leHRlcm5hbCcsIGVuZ2FnZW1lbnRfdHlwZSApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fSApO1xuXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEFjdGlvbnMgZm9yIG1lbWJlcnNoaXBzXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xOC4yXG5cdFx0ICovXG5cdFx0dGhpcy5iaW5kX2xsbXNfbWVtYmVyc2hpcCA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyByZW1vdmUgYXV0by1lbnJvbGwgY291cnNlXG5cdFx0XHQkKCAnYVtocmVmPVwiI2xsbXMtY291cnNlLXJlbW92ZVwiXScgKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oIGUgKSB7XG5cblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRcdHZhciAkZWwgPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0JHJvdyA9ICRlbC5jbG9zZXN0KCAndHInICksXG5cdFx0XHRcdFx0JGNvbnRhaW5lciA9ICRlbC5jbG9zZXN0KCAnLmxsbXMtbWItbGlzdCcgKTtcblxuXHRcdFx0XHRMTE1TLlNwaW5uZXIuc3RhcnQoICRjb250YWluZXIgKTtcblxuXHRcdFx0XHR3aW5kb3cuTExNUy5BamF4LmNhbGwoIHtcblx0XHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFx0XHRhY3Rpb246ICdtZW1iZXJzaGlwX3JlbW92ZV9hdXRvX2Vucm9sbF9jb3Vyc2UnLFxuXHRcdFx0XHRcdFx0Y291cnNlX2lkOiAkZWwuYXR0ciggJ2RhdGEtaWQnICksXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRiZWZvcmVTZW5kOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdFx0JGNvbnRhaW5lci5maW5kKCAncC5lcnJvcicgKS5yZW1vdmUoKTtcblxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oIHIgKSB7XG5cblx0XHRcdFx0XHRcdGlmICggci5zdWNjZXNzICkge1xuXG5cdFx0XHRcdFx0XHRcdCRyb3cuZmFkZU91dCggMjAwICk7XG5cdFx0XHRcdFx0XHRcdHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdCRyb3cucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHRcdH0sIDQwMCApO1xuXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdCRjb250YWluZXIucHJlcGVuZCggJzxwIGNsYXNzPVwiZXJyb3JcIj4nICsgci5tZXNzYWdlICsgJzwvcD4nICk7XG5cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0TExNUy5TcGlubmVyLnN0b3AoICRjb250YWluZXIgKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9ICk7XG5cblx0XHRcdH0gKTtcblxuXHRcdFx0Ly8gYnVsayBlbnJvbGwgYWxsIG1lbWJlcnMgaW50byBhIGNvdXJzZVxuXHRcdFx0JCggJ2FbaHJlZj1cIiNsbG1zLWNvdXJzZS1idWxrLWVucm9sbFwiXScgKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oIGUgKSB7XG5cblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRcdHZhciAkZWwgPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0JHJvdyA9ICRlbC5jbG9zZXN0KCAndHInICksXG5cdFx0XHRcdFx0JGNvbnRhaW5lciA9ICRlbC5jbG9zZXN0KCAnLmxsbXMtbWItbGlzdCcgKTtcblxuXHRcdFx0XHRpZiAoICEgd2luZG93LmNvbmZpcm0oIExMTVMubDEwbi50cmFuc2xhdGUoICdDbGljayBva2F5IHRvIGVucm9sbCBhbGwgYWN0aXZlIG1lbWJlcnMgaW50byB0aGUgc2VsZWN0ZWQgY291cnNlLiBFbnJvbGxtZW50IHdpbGwgdGFrZSBwbGFjZSBpbiB0aGUgYmFja2dyb3VuZCBhbmQgeW91IG1heSBsZWF2ZSB5b3VyIHNpdGUgYWZ0ZXIgY29uZmlybWF0aW9uLiBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lIScgKSApICkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdExMTVMuU3Bpbm5lci5zdGFydCggJGNvbnRhaW5lciApO1xuXG5cdFx0XHRcdHdpbmRvdy5MTE1TLkFqYXguY2FsbCgge1xuXHRcdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0XHRcdGFjdGlvbjogJ2J1bGtfZW5yb2xsX21lbWJlcnNoaXBfaW50b19jb3Vyc2UnLFxuXHRcdFx0XHRcdFx0Y291cnNlX2lkOiAkZWwuYXR0ciggJ2RhdGEtaWQnICksXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRiZWZvcmVTZW5kOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdCRjb250YWluZXIuZmluZCggJ3AuZXJyb3InICkucmVtb3ZlKCk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiggciApIHtcblxuXHRcdFx0XHRcdFx0aWYgKCByLnN1Y2Nlc3MgKSB7XG5cblx0XHRcdFx0XHRcdFx0JGVsLnJlcGxhY2VXaXRoKCAnPHN0cm9uZyBzdHlsZT1cImZsb2F0OnJpZ2h0O1wiPicgKyByLmRhdGEubWVzc2FnZSArICcmbmJzcDsmbmJzcDs8L3N0cm9uZz4nICk7XG5cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0JGNvbnRhaW5lci5wcmVwZW5kKCAnPHAgY2xhc3M9XCJlcnJvclwiPicgKyByLm1lc3NhZ2UgKyAnPC9wPicgKTtcblxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRMTE1TLlNwaW5uZXIuc3RvcCggJGNvbnRhaW5lciApO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0fSApO1xuXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEFjdGlvbnMgZm9yIE9SREVSU1xuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTAuMFxuXHRcdCAqL1xuXHRcdHRoaXMuYmluZF9sbG1zX29yZGVyID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdCQoICdidXR0b25bbmFtZT1cImxsbXMtcmVmdW5kLXRvZ2dsZVwiXScgKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0dmFyICRidG4gPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0JHJvdyA9ICRidG4uY2xvc2VzdCggJ3RyJyApLFxuXHRcdFx0XHRcdHR4bl9pZCA9ICRyb3cuYXR0ciggJ2RhdGEtdHJhbnNhY3Rpb24taWQnICksXG5cdFx0XHRcdFx0cmVmdW5kYWJsZV9hbW91bnQgPSAkYnRuLmF0dHIoICdkYXRhLXJlZnVuZGFibGUnICksXG5cdFx0XHRcdFx0Z2F0ZXdheV9zdXBwb3J0cyA9ICggJzEnID09PSAkYnRuLmF0dHIoICdkYXRhLWdhdGV3YXktc3VwcG9ydHMnICkgKSA/IHRydWUgOiBmYWxzZSxcblx0XHRcdFx0XHRnYXRld2F5X3RpdGxlID0gJGJ0bi5hdHRyKCAnZGF0YS1nYXRld2F5JyApLFxuXHRcdFx0XHRcdCRuZXdfcm93ID0gJCggJyNsbG1zLXR4bi1yZWZ1bmQtbW9kZWwgLmxsbXMtdHhuLXJlZnVuZC1mb3JtJyApLmNsb25lKCksXG5cdFx0XHRcdFx0JGdhdGV3YXlfYnRuID0gJG5ld19yb3cuZmluZCggJy5nYXRld2F5LWJ0bicgKTtcblxuXHRcdFx0XHQvLyBjb25maWd1cmUgYW5kIGFkZCB0aGUgZm9ybVxuXHRcdFx0XHRpZiAoICdyZW1vdmUnICE9PSAkYnRuLmF0dHIoICdkYXRhLWFjdGlvbicgKSApIHtcblxuXHRcdFx0XHRcdCRidG4udGV4dCggTExNUy5sMTBuLnRyYW5zbGF0ZSggJ0NhbmNlbCcgKSApO1xuXHRcdFx0XHRcdCRidG4uYXR0ciggJ2RhdGEtYWN0aW9uJywgJ3JlbW92ZScgKTtcblx0XHRcdFx0XHQkbmV3X3Jvdy5maW5kKCAnaW5wdXQnICkucmVtb3ZlQXR0ciggJ2Rpc2FibGVkJyApO1xuXHRcdFx0XHRcdCRuZXdfcm93LmZpbmQoICdpbnB1dFtuYW1lPVwibGxtc19yZWZ1bmRfYW1vdW50XCJdJyApLmF0dHIoICdtYXgnLCByZWZ1bmRhYmxlX2Ftb3VudCApO1xuXHRcdFx0XHRcdCRuZXdfcm93LmZpbmQoICdpbnB1dFtuYW1lPVwibGxtc19yZWZ1bmRfdHhuX2lkXCJdJyApLnZhbCggdHhuX2lkICk7XG5cblx0XHRcdFx0XHRpZiAoIGdhdGV3YXlfc3VwcG9ydHMgKSB7XG5cdFx0XHRcdFx0XHQkZ2F0ZXdheV9idG4uZmluZCggJy5sbG1zLWdhdGV3YXktdGl0bGUnICkudGV4dCggZ2F0ZXdheV90aXRsZSApO1xuXHRcdFx0XHRcdFx0JGdhdGV3YXlfYnRuLnNob3coKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQkcm93LmFmdGVyKCAkbmV3X3JvdyApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHQkYnRuLnRleHQoIExMTVMubDEwbi50cmFuc2xhdGUoICdSZWZ1bmQnICkgKTtcblx0XHRcdFx0XHQkYnRuLmF0dHIoICdkYXRhLWFjdGlvbicsICcnICk7XG5cdFx0XHRcdFx0JHJvdy5uZXh0KCAndHInICkucmVtb3ZlKCk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9ICk7XG5cblx0XHRcdCQoICdidXR0b25bbmFtZT1cImxsbXMtbWFudWFsLXR4bi10b2dnbGVcIl0nICkub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdHZhciAkYnRuID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdCRyb3cgPSAkYnRuLmNsb3Nlc3QoICd0cicgKSxcblx0XHRcdFx0XHQkbmV3X3JvdyA9ICQoICcjbGxtcy1tYW51YWwtdHhuLW1vZGVsIC5sbG1zLW1hbnVhbC10eG4tZm9ybScgKS5jbG9uZSgpO1xuXG5cdFx0XHRcdC8vIGNvbmZpZ3VyZSBhbmQgYWRkIHRoZSBmb3JtXG5cdFx0XHRcdGlmICggJ3JlbW92ZScgIT09ICRidG4uYXR0ciggJ2RhdGEtYWN0aW9uJyApICkge1xuXG5cdFx0XHRcdFx0JGJ0bi50ZXh0KCBMTE1TLmwxMG4udHJhbnNsYXRlKCAnQ2FuY2VsJyApICk7XG5cdFx0XHRcdFx0JGJ0bi5hdHRyKCAnZGF0YS1hY3Rpb24nLCAncmVtb3ZlJyApO1xuXHRcdFx0XHRcdCRuZXdfcm93LmZpbmQoICdpbnB1dCcgKS5yZW1vdmVBdHRyKCAnZGlzYWJsZWQnICk7XG5cblx0XHRcdFx0XHQkcm93LmFmdGVyKCAkbmV3X3JvdyApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHQkYnRuLnRleHQoIExMTVMubDEwbi50cmFuc2xhdGUoICdSZWNvcmQgYSBNYW51YWwgUGF5bWVudCcgKSApO1xuXHRcdFx0XHRcdCRidG4uYXR0ciggJ2RhdGEtYWN0aW9uJywgJycgKTtcblx0XHRcdFx0XHQkcm93Lm5leHQoICd0cicgKS5yZW1vdmUoKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH0gKTtcblxuXHRcdFx0Ly8gY2FjaGUgdGhlIG9yaWdpbmFsIHZhbHVlIHdoZW4gZm9jdXNpbmcgb24gYSBwYXltZW50IGdhdGV3YXkgc2VsZWN0XG5cdFx0XHQvLyB1c2VkIGJlbG93IHNvIHRoZSBvcmlnaW5hbCBmaWVsZCByZWxhdGVkIGRhdGEgY2FuIGJlIHJlc3RvcmVkIHdoZW4gc3dpdGNoaW5nIGJhY2sgdG8gdGhlIG9yaWduaWFsbHkgc2VsZWN0ZWQgZ2F0ZXdheVxuXHRcdFx0JCggJy5sbG1zLW1ldGFib3gnICkub25lKCAnZm9jdXMnLCAnLmxsbXMtbWV0YWJveC1maWVsZFtkYXRhLWxsbXMtZWRpdGFibGU9XCJwYXltZW50X2dhdGV3YXlcIl0gc2VsZWN0JywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0aWYgKCAhICQoIHRoaXMgKS5hdHRyKCAnZGF0YS1vcmlnaW5hbC12YWx1ZScgKSApIHtcblx0XHRcdFx0XHQkKCB0aGlzICkuYXR0ciggJ2RhdGEtb3JpZ2luYWwtdmFsdWUnLCAkKCB0aGlzICkudmFsKCkgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHR9ICk7XG5cblx0XHRcdC8vIHdoZW4gc2VsZWN0aW5nIGEgbmV3IHBheW1lbnQgZ2F0ZXdheSBnZXQgZmllbGQgZGF0YSBhbmQgdXBkYXRlIHRoZSBkb20gdG8gb25seSBkaXNwbGF5IHRoZSBmaWVsZHNcblx0XHRcdC8vIHN1cHBvcnRlZC9uZWVkZWQgYnkgdGhlIG5ld2x5IHNlbGVjdGVkIGdhdGV3YXlcblx0XHRcdCQoICcubGxtcy1tZXRhYm94JyApLm9uKCAnY2hhbmdlJywgJy5sbG1zLW1ldGFib3gtZmllbGRbZGF0YS1sbG1zLWVkaXRhYmxlPVwicGF5bWVudF9nYXRld2F5XCJdIHNlbGVjdCcsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdHZhciAkc2VsZWN0ID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdGdhdGV3YXkgPSAkc2VsZWN0LnZhbCgpLFxuXHRcdFx0XHRcdGRhdGEgPSBKU09OLnBhcnNlKCAkc2VsZWN0LmNsb3Nlc3QoICcubGxtcy1tZXRhYm94LWZpZWxkJyApLmF0dHIoICdkYXRhLWdhdGV3YXktZmllbGRzJyApICksXG5cdFx0XHRcdFx0Z2F0ZXdheV9kYXRhID0gZGF0YVsgZ2F0ZXdheSBdO1xuXG5cdFx0XHRcdGZvciAoIHZhciBmaWVsZCBpbiBnYXRld2F5X2RhdGEgKSB7XG5cblx0XHRcdFx0XHR2YXIgJGZpZWxkID0gJCggJ2lucHV0W25hbWU9XCInICsgZ2F0ZXdheV9kYXRhWyBmaWVsZCBdLm5hbWUgKyAnXCJdJyApLFxuXHRcdFx0XHRcdFx0JHdyYXAgPSAkZmllbGQuY2xvc2VzdCggJy5sbG1zLW1ldGFib3gtZmllbGQnICk7XG5cblx0XHRcdFx0XHQvLyBhbHdheXMgY2xlYXIgdGhlIHZhbHVlIHdoZW4gc3dpdGNoaW5nXG5cdFx0XHRcdFx0Ly8gZW5zdXJlcyB0aGF0IG91dGRhdGVkIGRhdGEgaXMgcmVtb3ZlZCBmcm9tIHRoZSBEQlxuXHRcdFx0XHRcdCRmaWVsZC5hdHRyKCAndmFsdWUnLCAnJyApO1xuXG5cdFx0XHRcdFx0Ly8gaWYgdGhlIGZpZWxkIGlzIGVuYWJsZWQgc2hvdyBpdCB0aGUgZmllbGQgYW5kLCBpZiB3ZSdyZSBzd2l0Y2hpbmcgYmFjayB0byB0aGUgb3JpZ2luYWxseSBzZWxlY3RlZFxuXHRcdFx0XHRcdC8vIGdhdGV3YXksIHJlbG9hZCB0aGUgdmFsdWUgZnJvbSB0aGUgZG9tXG5cdFx0XHRcdFx0aWYgKCBnYXRld2F5X2RhdGFbIGZpZWxkIF0uZW5hYmxlZCApIHtcblxuXHRcdFx0XHRcdFx0JHdyYXAuc2hvdygpO1xuXHRcdFx0XHRcdFx0JGZpZWxkLmF0dHIoICdyZXF1aXJlZCcsICdyZXF1aXJlZCcgKTtcblx0XHRcdFx0XHRcdGlmICggZ2F0ZXdheSA9PT0gJHNlbGVjdC5hdHRyKCAnZGF0YS1vcmlnaW5hbC12YWx1ZScpICkge1xuXHRcdFx0XHRcdFx0XHQkZmllbGQudmFsKCAkd3JhcC5hdHRyKCAnZGF0YS1sbG1zLWVkaXRhYmxlLXZhbHVlJyApICk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBvdGhlcndpc2UgaGlkZSB0aGUgZmllbGRcblx0XHRcdFx0XHQvLyB0aGlzIHdpbGwgZW5zdXJlIGl0IGdldHMgdXBkYXRlZCBpbiB0aGUgZGF0YWJhc2Vcblx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHQkZmllbGQucmVtb3ZlQXR0ciggJ3JlcXVpcmVkJyApO1xuXHRcdFx0XHRcdFx0JHdyYXAuaGlkZSgpO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblxuXHRcdFx0fSApO1xuXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEJpbmRzIGN1c3RvbSBsbG1zIG1lcmdlIGNvZGUgYnV0dG9uc1xuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMS4wXG5cdFx0ICogQHZlcnNpb24gIDMuOS4yXG5cdFx0ICovXG5cdFx0dGhpcy5iaW5kX21lcmdlX2NvZGVfYnV0dG9ucyA9IGZ1bmN0aW9uKCAkd3JhcHBlcnMgKSB7XG5cblx0XHRcdCR3cmFwcGVycyA9ICR3cmFwcGVycyB8fCAkKCAnLmxsbXMtbWVyZ2UtY29kZS13cmFwcGVyJyApO1xuXG5cdFx0XHQkd3JhcHBlcnMuZmluZCggJy5sbG1zLW1lcmdlLWNvZGUtYnV0dG9uJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQkKCB0aGlzICkubmV4dCggJy5sbG1zLW1lcmdlLWNvZGVzJyApLnRvZ2dsZUNsYXNzKCAnYWN0aXZlJyApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHRcdCR3cmFwcGVycy5maW5kKCAnLmxsbXMtbWVyZ2UtY29kZXMgbGknICkub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdHZhciAkZWwgPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0JHBhcmVudCA9ICRlbC5jbG9zZXN0KCAnLmxsbXMtbWVyZ2UtY29kZXMnICksXG5cdFx0XHRcdFx0dGFyZ2V0ID0gJHBhcmVudC5hdHRyKCAnZGF0YS10YXJnZXQnICksXG5cdFx0XHRcdFx0Y29kZSA9ICRlbC5hdHRyKCAnZGF0YS1jb2RlJyApO1xuXG5cdFx0XHRcdC8vIGRlYWxpbmcgd2l0aCBhIHRpbnltY2UgaW5zdGFuY2Vcblx0XHRcdFx0aWYgKCAtMSA9PT0gdGFyZ2V0LmluZGV4T2YoICcjJyApICkge1xuXG5cdFx0XHRcdFx0dmFyIGVkaXRvciA9IHdpbmRvdy50aW55bWNlLmVkaXRvcnNbIHRhcmdldCBdO1xuXHRcdFx0XHRcdGlmICggZWRpdG9yICkge1xuXHRcdFx0XHRcdFx0ZWRpdG9yLmluc2VydENvbnRlbnQoIGNvZGUgKTtcblx0XHRcdFx0XHR9IC8vIGZhbGxiYWNrIGluIGNhc2Ugd2UgY2FuJ3QgYWNjZXNzIHRoZSBlZGl0b3IgZGlyZWN0bHlcblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdGFsZXJ0KCBMTE1TLmwxMG4udHJhbnNsYXRlKCAnQ29weSB0aGlzIGNvZGUgYW5kIHBhc3RlIGl0IGludG8gdGhlIGRlc2lyZWQgYXJlYScgKSArICc6ICcgKyBjb2RlICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gZGVhbGluZyB3aXRoIGEgRE9NIGlkXG5cdFx0XHRcdGVsc2Uge1xuXG5cdFx0XHRcdFx0JCggdGFyZ2V0ICkudmFsKCAkKCB0YXJnZXQgKS52YWwoKSArIGNvZGUgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0JHBhcmVudC5yZW1vdmVDbGFzcyggJ2FjdGl2ZScgKTtcblxuXHRcdFx0fSApO1xuXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgbWV0YWJveCB0YWJzXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0XHQgKi9cblx0XHR0aGlzLmJpbmRfdGFicyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0JCggJy5sbG1zLW5hdi10YWItd3JhcHBlciAudGFicyBsaScgKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0dmFyICRidG4gPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0JG1ldGFib3ggPSAkYnRuLmNsb3Nlc3QoICcubGxtcy1tYi1jb250YWluZXInICksXG5cdFx0XHRcdFx0dGFiX2lkID0gJGJ0bi5hdHRyKCAnZGF0YS10YWInICk7XG5cblx0XHRcdFx0JGJ0bi5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCAnbGxtcy1hY3RpdmUnICk7XG5cblx0XHRcdFx0JG1ldGFib3guZmluZCggJy50YWItY29udGVudCcgKS5yZW1vdmVDbGFzcyggJ2xsbXMtYWN0aXZlJyApO1xuXG5cdFx0XHRcdCRidG4uYWRkQ2xhc3MoICdsbG1zLWFjdGl2ZScgKTtcblx0XHRcdFx0JCggJyMnICsgdGFiX2lkICkuYWRkQ2xhc3MoICdsbG1zLWFjdGl2ZScgKTtcblxuXHRcdFx0fSApO1xuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBFbmFibGUgV1AgUG9zdCBUYWJsZSBzZWFyY2hlcyBmb3IgYXBwbGljYWJsZSBzZWxlY3QyIGJveGVzXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xOS41XG5cdFx0ICovXG5cdFx0dGhpcy5wb3N0X3NlbGVjdCA9IGZ1bmN0aW9uKCAkZWwgKSB7XG5cblx0XHRcdHZhciBtdWx0aSA9ICdtdWx0aXBsZScgPT09ICRlbC5hdHRyKCAnbXVsdGlwbGUnICk7XG5cblx0XHRcdCRlbC5sbG1zUG9zdHNTZWxlY3QyKCB7XG5cdFx0XHRcdHdpZHRoOiBtdWx0aSA/ICcxMDAlJyA6ICc2NSUnLFxuXHRcdFx0fSApO1xuXG5cdFx0XHRpZiAoIG11bHRpICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIGFkZCBhIFwiVmlld1wiIGJ1dHRvbiB0byBzZWUgd2hhdCB0aGUgc2VsZWN0ZWQgcGFnZSBsb29rcyBsaWtlXG5cdFx0XHR2YXIgbXNnID0gTExNUy5sMTBuLnRyYW5zbGF0ZSggJ1ZpZXcnICksXG5cdFx0XHRcdCRidG4gPSAkKCAnPGEgY2xhc3M9XCJsbG1zLWJ1dHRvbi1zZWNvbmRhcnkgc21hbGxcIiBzdHlsZT1cIm1hcmdpbi1sZWZ0OjVweDtcIiB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiI1wiPicgKyAgbXNnICsgJyA8aSBjbGFzcz1cImZhIGZhLWV4dGVybmFsLWxpbmtcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+PC9hPicgKTtcblx0XHRcdCRlbC5uZXh0KCAnLnNlbGVjdDInICkuYWZ0ZXIoICRidG4gKTtcblxuXHRcdFx0JGVsLm9uKCAnY2hhbmdlJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBpZCA9ICQoIHRoaXMgKS52YWwoKTtcblx0XHRcdFx0aWYgKCBpZCApIHtcblx0XHRcdFx0XHQkYnRuLmF0dHIoICdocmVmJywgJy8/cD0nICsgaWQgKS5zaG93KCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JGJ0bi5oaWRlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKS50cmlnZ2VyKCAnY2hhbmdlJyApO1xuXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgZG9tIGV2ZW50cyBmb3IgLmxsbXMtdGFibGVzXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0XHQgKi9cblx0XHR0aGlzLmJpbmRfdGFibGVzID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdCQoICcubGxtcy10YWJsZSBidXR0b25bbmFtZT1cImxsbXMtZXhwYW5kLXRhYmxlXCJdJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHR2YXIgJGJ0biA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHQkdGFibGUgPSAkYnRuLmNsb3Nlc3QoICcubGxtcy10YWJsZScgKVxuXG5cdFx0XHRcdC8vIHN3aXRjaCB0aGUgdGV4dCBvbiB0aGUgYnV0dG9uIGlmIGFsdCB0ZXh0IGlzIGZvdW5kXG5cdFx0XHRcdGlmICggJGJ0bi5hdHRyKCAnZGF0YS10ZXh0JyApICkge1xuXHRcdFx0XHRcdHZhciB0ZXh0ID0gJGJ0bi50ZXh0KCk7XG5cdFx0XHRcdFx0JGJ0bi50ZXh0KCAkYnRuLmF0dHIoICdkYXRhLXRleHQnICkgKTtcblx0XHRcdFx0XHQkYnRuLmF0dHIoICdkYXRhLXRleHQnLCB0ZXh0ICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBzd2l0Y2ggY2xhc3NlcyBvbiBhbGwgZXhwYW5kYWJsZSBlbGVtZW50c1xuXHRcdFx0XHQkdGFibGUuZmluZCggJy5leHBhbmRhYmxlJyApLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0aWYgKCAkKCB0aGlzICkuaGFzQ2xhc3MoICdjbG9zZWQnICkgKSB7XG5cdFx0XHRcdFx0XHQkKCB0aGlzICkuYWRkQ2xhc3MoICdvcGVuZWQnICkucmVtb3ZlQ2xhc3MoICdjbG9zZWQnICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdCQoIHRoaXMgKS5hZGRDbGFzcyggJ2Nsb3NlZCcgKS5yZW1vdmVDbGFzcyggJ29wZW5lZCcgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fSApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHR9O1xuXG5cdFx0Ly8gZ29cblx0XHR0aGlzLmluaXQoKTtcblxuXHR9O1xuXG5cdC8vIGluaXRhbGl6ZSB0aGUgb2JqZWN0XG5cdHdpbmRvdy5sbG1zLm1ldGFib3hlcyA9IG5ldyBNZXRhYm94ZXMoKTtcblxufSApKCBqUXVlcnkgKTtcbiJdfQ==
